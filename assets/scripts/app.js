!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";c.pad=function(a,b){var c=b.digits||3;b.auto&&"number"==typeof b.auto&&(c=String(b.auto).length);var d=c-String(a).length,e="";if(d>0)for(;d--;)e+="0";return e+a},c.stripleft=function(a){return a.replace(/^\d+\-?/g,"")},c.stripright=function(a){return a.replace(/\-?\d+$/g,"")},c.countleft=function(a){return String(a.match(/^\d+/g)).length},c.countright=function(a){return String(a.match(/\d+$/g)).length}},{}],2:[function(a,b){function c(a,b){"use strict";function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(b=b||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=b.touchBoundary||10,this.layer=a,this.tapDelay=b.tapDelay||200,!c.notNeeded(a)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);d&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(f=a.onclick,a.addEventListener("click",function(a){f(a)},!1),a.onclick=null)}}var d=navigator.userAgent.indexOf("Android")>0,e=/iP(ad|hone|od)/.test(navigator.userAgent),f=e&&/OS 4_\d(_\d)?/.test(navigator.userAgent),g=e&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);c.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(e&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},c.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!d;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},c.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},c.prototype.determineEventType=function(a){"use strict";return d&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},c.prototype.focus=function(a){"use strict";var b;e&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},c.prototype.updateScrollParent=function(a){"use strict";var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},c.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},c.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],e){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!f){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},c.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},c.prototype.onTouchMove=function(a){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},c.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},c.prototype.onTouchEnd=function(a){"use strict";var b,c,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,g&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),d)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-c>100||e&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),e&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return e&&!f&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},c.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},c.prototype.onMouse=function(a){"use strict";return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},c.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},c.prototype.destroy=function(){"use strict";var a=this.layer;d&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},c.notNeeded=function(a){"use strict";var b,c;if("undefined"==typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!d)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===a.style.msTouchAction?!0:!1},c.attach=function(a,b){"use strict";return new c(a,b)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return c}):"undefined"!=typeof b&&b.exports?(b.exports=c.attach,b.exports.FastClick=c):window.FastClick=c},{}],3:[function(a,b){b.exports.create=function(){var a={};a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var b=Object.prototype.toString,c="[object Function]",d="[object Object]";return a.registerHelper=function(c,e,f){if(b.call(c)===d){if(f||e)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,c)}else f&&(e.not=f),this.helpers[c]=e},a.registerPartial=function(c,e){b.call(c)===d?a.Utils.extend(this.partials,c):this.partials[c]=e},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(d,e){var f=e.inverse||function(){},g=e.fn,h=b.call(d);return h===c&&(d=d.call(this)),d===!0?g(this):d===!1||null==d?f(this):"[object Array]"===h?d.length>0?a.helpers.each(d,e):f(this):g(d)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(d,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=b.call(d);if(k===c&&(d=d.call(this)),e.data&&(f=a.createFrame(e.data)),d&&"object"==typeof d)if(d instanceof Array)for(var l=d.length;l>i;i++)f&&(f.index=i),j+=g(d[i],{data:f});else for(var m in d)d.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(d[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),!d||a.Utils.isEmpty(d)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),a.Utils.isEmpty(d)?void 0:e.fn(d)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a}},{}],4:[function(a,b,c){c.attach=function(a){return a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(b,c,d,e,f,g){var h={helpers:e,partials:f,data:g};if(void 0===b)throw new a.Exception("The partial "+c+" could not be found");if(b instanceof Function)return b(d,h);if(a.compile)return f[c]=a.compile(b,{data:void 0!==g}),f[c](d,h);throw new a.Exception("The partial "+c+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template,a}},{}],5:[function(a,b,c){c.attach=function(a){var b=Object.prototype.toString,c=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<c.length;b++)this[c[b]]=a[c[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,f=/[&<>"'`]/,g=function(a){return d[a]||"&amp;"};return a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),f.test(b)?b.replace(e,g):b)},isEmpty:function(a){return a||0===a?"[object Array]"===b.call(a)&&0===a.length?!0:!1:!0}},a}},{}],6:[function(a,b,c){b.exports=c=a("handlebars/lib/handlebars/base.js").create(),a("handlebars/lib/handlebars/utils.js").attach(c),a("handlebars/lib/handlebars/runtime.js").attach(c)},{"handlebars/lib/handlebars/base.js":3,"handlebars/lib/handlebars/runtime.js":4,"handlebars/lib/handlebars/utils.js":5}],7:[function(a,b){b.exports=a("./lib/visibility.timers.js")},{"./lib/visibility.timers.js":9}],8:[function(a,b){!function(a){"use strict";var c=-1,d={onVisible:function(a){var b=d.isSupported();if(!b||!d.hidden())return a(),b;var c=d.change(function(){d.hidden()||(d.unbind(c),a())});return c},change:function(a){if(!d.isSupported())return!1;c+=1;var b=c;return d._callbacks[b]=a,d._listen(),b},unbind:function(a){delete d._callbacks[a]},afterPrerendering:function(a){var b=d.isSupported(),c="prerender";if(!b||c!=d.state())return a(),b;var e=d.change(function(b,f){c!=f&&(d.unbind(e),a())});return e},hidden:function(){return!(!d._doc.hidden&&!d._doc.webkitHidden)},state:function(){return d._doc.visibilityState||d._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!d._doc.visibilityState&&!d._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(a){var b=d.state();for(var c in d._callbacks)d._callbacks[c].call(d._doc,a,b)},_listen:function(){if(!d._init){var a="visibilitychange";d._doc.webkitVisibilityState&&(a="webkit"+a);var b=function(){d._change.apply(d,arguments)};d._doc.addEventListener?d._doc.addEventListener(a,b):d._doc.attachEvent(a,b),d._init=!0}}};"undefined"!=typeof b&&b.exports?b.exports=d:a.Visibility=d}(this)},{}],9:[function(a,b){!function(c){"use strict";var d=-1,e=function(a){return a.every=function(b,c,e){a._time(),e||(e=c,c=null),d+=1;var f=d;return a._timers[f]={visible:b,hidden:c,callback:e},a._run(f,!1),a.isSupported()&&a._listen(),f},a.stop=function(b){return a._timers[b]?(a._stop(b),delete a._timers[b],!0):!1},a._timers={},a._time=function(){a._timed||(a._timed=!0,a._wasHidden=a.hidden(),a.change(function(){a._stopRun(),a._wasHidden=a.hidden()}))},a._run=function(b,d){var e,f=a._timers[b];if(a.hidden()){if(null===f.hidden)return;e=f.hidden}else e=f.visible;var g=function(){f.last=new Date,f.callback.call(c)};if(d){var h=new Date,i=h-f.last;e>i?f.delay=setTimeout(function(){g(),f.id=setInterval(g,e)},e-i):(g(),f.id=setInterval(g,e))}else f.id=setInterval(g,e)},a._stop=function(b){var c=a._timers[b];clearInterval(c.id),clearTimeout(c.delay),delete c.id,delete c.delay},a._stopRun=function(){var b=a.hidden(),c=a._wasHidden;if(b&&!c||!b&&c)for(var d in a._timers)a._stop(d),a._run(d,!b)},a};"undefined"!=typeof b&&b.exports?b.exports=e(a("./visibility.core")):e(c.Visibility)}(window)},{"./visibility.core":8}],10:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=function(a,b){return function(){return a.apply(b,arguments)}},t={}.hasOwnProperty,u=function(a,b){function c(){this.constructor=a}for(var d in b)t.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};p=a("visibilityjs"),c=a("./config/AppConfig.coffee"),e=a("./events/AppEvent.coffee"),k=a("./events/PubEvent.coffee"),n=a("./models/SharedTrackModel.coffee"),f=a("./routers/AppRouter.coffee"),g=a("./utils/BreakpointManager.coffee"),l=a("./utils/PubSub"),i=a("./views/landing/LandingView.coffee"),h=a("./views/create/CreateView.coffee"),m=a("./views/share/ShareView.coffee"),q=a("./views/visualizer/VisualizerView.coffee"),j=a("./views/not-supported/NotSupportedView.coffee"),o=a("./supers/View.coffee"),r=a("./views/templates/main-template.hbs"),d=function(a){function b(){return this.onSaveTrack=s(this.onSaveTrack,this),this.onCloseShare=s(this.onCloseShare,this),this.onOpenShare=s(this.onOpenShare,this),this.onVisibilityChange=s(this.onVisibilityChange,this),this.onResize=s(this.onResize,this),this.saveTrack=s(this.saveTrack,this),this.exportTrackAndSaveToParse=s(this.exportTrackAndSaveToParse,this),b.__super__.constructor.apply(this,arguments)}return u(b,a),b.prototype.id="wrapper",b.prototype.visualizationRendered=!1,b.prototype.initialize=function(a){return b.__super__.initialize.call(this,a),this.$body=$("body"),this.$window=$("window"),this.breakpointManager=new g({breakpoints:c.BREAKPOINTS,scope:this}),this.sharedTrackModel=new n,this.landingView=new i({appModel:this.appModel}),this.createView=new h({appModel:this.appModel,sharedTrackModel:this.sharedTrackModel,kitCollection:this.kitCollection}),this.shareView=new m({appModel:this.appModel,sharedTrackModel:this.sharedTrackModel,kitCollection:this.kitCollection}),this.notSupportedView=new j({appModel:this.appModel}),this.appRouter=new f({appController:this,appModel:this.appModel}),this.isMobile=this.$body.hasClass("mobile"),this.isMobile||(this.visualizerView=new q({appModel:this.appModel})),this.notSupported=!1,this.isMobile&&this.notSupported&&(window.location.hash="not-supported"),this.addEventListeners()},b.prototype.render=function(){var a;return this.$body.append(this.$el.html(r({isDesktop:this.$body.hasClass("desktop")}))),this.$mainContainer=this.$el.find("#container-main"),this.$topContainer=this.$el.find("#container-top"),this.$bottomContainer=this.$el.find("#container-bottom"),TweenMax.set(this.$bottomContainer,{y:300}),this.isMobile&&(a=window.location.hash,(-1===a.indexOf("share")||-1===a.indexOf("not-supported"))&&(TweenMax.set($(".top-bar"),{autoAlpha:0}),TweenMax.set(this.$mainContainer,{y:.5*window.innerHeight-.5*this.$mainContainer.height()-25}))),Backbone.history.start({pushState:!1}),this},b.prototype.renderVisualizationLayer=function(){return this.appModel.get("isMobile")?void 0:this.visualizationRendered===!1?(this.visualizationRendered=!0,this.$mainContainer.prepend(this.visualizerView.render().el)):void 0},b.prototype.remove=function(){var a,c,d,e;return null!=(a=this.landingView)&&a.remove(),null!=(c=this.shareView)&&c.remove(),null!=(d=this.createView)&&d.remove(),null!=(e=this.notSupportedView)&&e.remove(),b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,e.CHANGE_VIEW,this.onViewChange),this.listenTo(this.appModel,e.CHANGE_ISMOBILE,this.onIsMobileChange),this.listenTo(this.createView,e.OPEN_SHARE,this.onOpenShare),this.listenTo(this.createView,e.CLOSE_SHARE,this.onCloseShare),this.listenTo(this.createView,e.SAVE_TRACK,this.onSaveTrack),this.listenTo(this.createView,k.BEAT,this.onBeat),this.listenTo(this,e.BREAKPOINT_MATCH,this.onBreakpointMatch),p.change(this.onVisibilityChange),$(window).on("resize",this.onResize)},b.prototype.removeEventListeners=function(){return $(window).off("resize",this.onResize),b.__super__.removeEventListeners.call(this)},b.prototype.expandVisualization=function(){return this.isMobile?void 0:(this.appModel.get("view")instanceof h&&this.createView.hideUI(),this.visualizerView.scaleUp())},b.prototype.contractVisualization=function(){return this.isMobile?void 0:(this.appModel.get("view")instanceof h&&this.createView.showUI(),this.visualizerView.scaleDown())},b.prototype.exportTrackAndSaveToParse=function(){var a,b,c,d;for(c=[],d=[],a=this.appModel["export"]().kitModel.instruments,b=this.appModel.get("kitModel").toJSON(),a=a.map(function(){return function(a){return a.patternSquares.forEach(function(a){return delete a.instrument,d.push(a)}),a}}(this));d.length>0;)c.push(d.splice(0,8));return this.kitType=this.appModel.get("kitModel").get("label"),this.instruments=a,this.patternSquareGroups=c,this.saveTrack()},b.prototype.saveTrack=function(){return this.sharedTrackModel.set({bpm:this.appModel.get("bpm"),instruments:this.instruments,kitType:this.kitType,patternSquareGroups:this.patternSquareGroups,visualization:this.appModel.get("visualization")}),this.sharedTrackModel.save({error:function(a){return function(b,c){return console.error(b,c),a.appModel.set("shareId","error")}}(this),success:function(a){return function(b){return console.log(b.id),a.appModel.set("shareId",b.id)}}(this)})},b.prototype.onResize=function(){var a;return this.isMobile?(a=$(".device-orientation"),TweenMax.to($("body"),0,{scrollTop:0,scrollLeft:0}),window.innerHeight>window.innerWidth?(TweenMax.set($("#wrapper"),{autoAlpha:0}),TweenMax.fromTo(a,.2,{autoAlpha:0},{autoAlpha:1,delay:0}),TweenMax.fromTo(a.find("img"),.3,{scale:0},{scale:1,ease:Back.easeOut,delay:.6}),a.show()):(TweenMax.to(a.find("img"),.3,{scale:0,ease:Back.easeIn,delay:.3}),TweenMax.to(a,.2,{autoAlpha:0,delay:.6,onComplete:function(){return function(){return TweenMax.to($("#wrapper"),.4,{autoAlpha:1,delay:.3}),a.hide()}}(this)}))):void 0},b.prototype.onBeat=function(a){return this.visualizerView.onBeat(a)},b.prototype.onVisibilityChange=function(a,b){return"visible"!==b?this.appModel.set("playing",!1):this.appModel._previousAttributes.playing===!0?this.appModel.set("playing",!0):void 0},b.prototype.onViewChange=function(a){var b,c,d,e;return d=a._previousAttributes.view,c=a.changed.view,null!=d&&d.hide({remove:!0}),b=this.$el,c instanceof h&&(this.renderVisualizationLayer(),null!=(e=this.visualizerView)&&e.resetPosition(),b=this.isMobile?this.$mainContainer:this.$bottomContainer),c instanceof m?(this.isMobile?($("#logo").removeClass("logo").addClass("logo-white"),TweenMax.to($("#wrapper"),.3,{backgroundColor:"#E41E2B"})):this.renderVisualizationLayer(),_.defer(function(a){return function(){var b;return null!=(b=a.visualizerView)?b.setShareViewPosition():void 0}}(this))):this.isMobile&&($("#logo").removeClass("logo-white").addClass("logo"),TweenMax.to($("#wrapper"),.3,{backgroundColor:"white"})),b.append(c.render().el),c instanceof m?void 0:c.show()},b.prototype.onIsMobileChange=function(a){var b;return b=a.changed.isMobile,b?this.$body.removeClass("desktop").addClass("mobile"):this.$body.removeClass("mobile").addClass("desktop")},b.prototype.onBreakpointMatch=function(a){return this.appModel.set("isMobile","mobile"===a?!0:!1),_.delay(function(){return window.location.reload()},100)},b.prototype.onOpenShare=function(){return this.expandVisualization()},b.prototype.onCloseShare=function(){return this.contractVisualization()},b.prototype.onSaveTrack=function(a){return this.sharedTrackModel=a.sharedTrackModel,this.exportTrackAndSaveToParse()},b}(o),b.exports=d},{"./config/AppConfig.coffee":11,"./events/AppEvent.coffee":13,"./events/PubEvent.coffee":14,"./models/SharedTrackModel.coffee":18,"./routers/AppRouter.coffee":28,"./supers/View.coffee":31,"./utils/BreakpointManager.coffee":32,"./utils/PubSub":33,"./views/create/CreateView.coffee":36,"./views/landing/LandingView.coffee":67,"./views/not-supported/NotSupportedView.coffee":69,"./views/share/ShareView.coffee":71,"./views/templates/main-template.hbs":73,"./views/visualizer/VisualizerView.coffee":77,visibilityjs:7}],11:[function(a,b){var c;c={ASSETS:{path:"assets",audio:"audio",data:"data",images:"images"},BPM:120,BPM_MAX:1e3,BREAKPOINTS:{mobile:{min:null,max:600},desktop:{min:601,max:null}},VELOCITY_MAX:3,VOLUME_LEVELS:{low:.2,medium:.5,high:1},returnAssetPath:function(a){var b;return b=this.ASSETS.path+"/"+this.ASSETS[a]},returnTestAssetPath:function(a){var b;return b=window.location.pathname+this.ASSETS.path+"/"+this.ASSETS[a]}},b.exports=c},{}],12:[function(a,b){b.exports=[{track:{bpm:204,instruments:[{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick1",id:"instrument-3",label:"Kick Drum 1",mute:!1,patternSquares:[{active:!0,orderIndex:0,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:0,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:0,previousVelocity:1,trigger:!0,velocity:2}],src:"/assets/audio/hip-hop/HipHopKit_KickHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick2",id:"instrument-4",label:"Kick Drum 2",mute:!1,patternSquares:[{active:!0,orderIndex:1,previousVelocity:2,trigger:!0,velocity:3},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:1,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:1,previousVelocity:1,trigger:!0,velocity:2},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Kick_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-closed",id:"instrument-5",label:"Closed HiHat",mute:!1,patternSquares:[{active:!0,orderIndex:2,previousVelocity:2,trigger:!0,velocity:3},{active:!0,orderIndex:2,previousVelocity:0,trigger:!1,velocity:1},{active:!0,orderIndex:2,previousVelocity:0,trigger:!1,velocity:1},{active:!0,orderIndex:2,previousVelocity:2,trigger:!1,velocity:3},{active:!0,orderIndex:2,previousVelocity:0,trigger:!1,velocity:1},{active:!0,orderIndex:2,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:2,previousVelocity:1,trigger:!0,velocity:2},{active:!0,orderIndex:2,previousVelocity:2,trigger:!0,velocity:3}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Closed_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-open",id:"instrument-6",label:"Open HiHat",mute:!1,patternSquares:[{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Open_Soft.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-snare",id:"instrument-7",label:"Snare",mute:!1,patternSquares:[{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:4,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!0,velocity:1}],src:"/assets/audio/hip-hop/HipHopKit_SnareHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-voice",id:"instrument-8",label:"Voice",mute:!1,patternSquares:[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/0021_props_can_soda_open _01-1.mp3",volume:null}],kitType:"Hip-hop",patternSquareGroups:[[{active:!0,orderIndex:0,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:0,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:0,previousVelocity:1,trigger:!0,velocity:2}],[{active:!0,orderIndex:1,previousVelocity:2,trigger:!0,velocity:3},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:1,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:1,previousVelocity:1,trigger:!0,velocity:2},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0}],[{active:!0,orderIndex:2,previousVelocity:2,trigger:!0,velocity:3},{active:!0,orderIndex:2,previousVelocity:0,trigger:!1,velocity:1},{active:!0,orderIndex:2,previousVelocity:0,trigger:!1,velocity:1},{active:!0,orderIndex:2,previousVelocity:2,trigger:!1,velocity:3},{active:!0,orderIndex:2,previousVelocity:0,trigger:!1,velocity:1},{active:!0,orderIndex:2,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:2,previousVelocity:1,trigger:!0,velocity:2},{active:!0,orderIndex:2,previousVelocity:2,trigger:!0,velocity:3}],[{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:3,trigger:!1,velocity:0}],[{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:4,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!0,velocity:1}],[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}]],shareName:"Kevin Bleich",shareTitle:"Filthy 1",shareMessage:"Yeah",visualization:null,objectId:"duaeGp4zlx",createdAt:"2014-04-07T16:28:48.566Z",updatedAt:"2014-04-07T16:28:48.566Z"}},{track:{bpm:187,instruments:[{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick1",id:"instrument-3",label:"Kick Drum 1",mute:!1,patternSquares:[{active:!0,orderIndex:0,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_KickHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick2",id:"instrument-4",label:"Kick Drum 2",mute:!1,patternSquares:[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Kick_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-closed",id:"instrument-5",label:"Closed HiHat",mute:!1,patternSquares:[{active:!0,orderIndex:2,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:2,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:2,previousVelocity:1,trigger:!0,velocity:2},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Closed_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-open",id:"instrument-6",label:"Open HiHat",mute:!1,patternSquares:[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:3,previousVelocity:0,trigger:!1,velocity:1}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Open_Soft.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-snare",id:"instrument-7",label:"Snare",mute:!1,patternSquares:[{active:!0,orderIndex:4,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_SnareHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-voice",id:"instrument-8",label:"Voice",mute:!1,patternSquares:[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/0021_props_can_soda_open _01-1.mp3",volume:null}],kitType:"Hip-hop",patternSquareGroups:[[{active:!0,orderIndex:0,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],[{active:!0,orderIndex:2,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:2,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:2,previousVelocity:1,trigger:!0,velocity:2},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:3,previousVelocity:0,trigger:!1,velocity:1}],[{active:!0,orderIndex:4,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}]],shareName:"SHIFTSAVE",shareTitle:"Beats by CRUZ",shareMessage:"So rad!",visualization:null,objectId:"15xTWsaONP",createdAt:"2014-04-07T16:14:00.344Z",updatedAt:"2014-04-07T16:14:00.344Z"}},{track:{bpm:260,instruments:[{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick1",id:"instrument-3",label:"Kick Drum 1",mute:!1,patternSquares:[{active:!0,orderIndex:0,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:0,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_KickHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick2",id:"instrument-4",label:"Kick Drum 2",mute:!1,patternSquares:[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Kick_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-closed",id:"instrument-5",label:"Closed HiHat",mute:!1,patternSquares:[{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!0,orderIndex:2,previousVelocity:2,trigger:!1,velocity:3},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Closed_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-open",id:"instrument-6",label:"Open HiHat",mute:!1,patternSquares:[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:2,trigger:!1,velocity:3}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Open_Soft.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-snare",id:"instrument-7",label:"Snare",mute:!1,patternSquares:[{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:4,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_SnareHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-voice",id:"instrument-8",label:"Voice",mute:!1,patternSquares:[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/0021_props_can_soda_open _01-1.mp3",volume:null}],kitType:"Hip-hop",patternSquareGroups:[[{active:!0,orderIndex:0,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:0,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:3,trigger:!1,velocity:0}],[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],[{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!0,orderIndex:2,previousVelocity:2,trigger:!1,velocity:3},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0}],[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:2,trigger:!1,velocity:3}],[{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0},{active:!0,orderIndex:4,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0}],[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}]],shareName:"Matt",shareTitle:"Helz Yes",shareMessage:"Hope you like it.",visualization:null,objectId:"fxDP8MLqkG",createdAt:"2014-04-03T22:57:29.606Z",updatedAt:"2014-04-03T22:57:29.606Z"}},{track:{bpm:250,instruments:[{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick1",id:"instrument-3",label:"Kick Drum 1",mute:!1,patternSquares:[{active:!0,orderIndex:0,previousVelocity:1,trigger:!0,velocity:2},{active:!0,orderIndex:0,previousVelocity:1,trigger:!0,velocity:2},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_KickHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick2",id:"instrument-4",label:"Kick Drum 2",mute:!1,patternSquares:[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Kick_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-closed",id:"instrument-5",label:"Closed HiHat",mute:!1,patternSquares:[{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Closed_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-open",id:"instrument-6",label:"Open HiHat",mute:!1,patternSquares:[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Open_Soft.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-snare",id:"instrument-7",label:"Snare",mute:!1,patternSquares:[{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_SnareHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-voice",id:"instrument-8",label:"Voice",mute:!1,patternSquares:[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/0021_props_can_soda_open _01-1.mp3",volume:null}],kitType:"Hip-hop",patternSquareGroups:[[{active:!0,orderIndex:0,previousVelocity:1,trigger:!0,velocity:2},{active:!0,orderIndex:0,previousVelocity:1,trigger:!0,velocity:2},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:0,trigger:!0,velocity:1},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:3,trigger:!1,velocity:0}],[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:3,trigger:!1,velocity:0}],[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0}]],shareName:"Hypsteria",shareTitle:"You wish ",shareMessage:"you wish you made it",visualization:null,objectId:"nhGDUaQ9ri",createdAt:"2014-04-05T21:11:47.776Z",updatedAt:"2014-04-05T21:11:47.776Z"}},{track:{bpm:250,instruments:[{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick1",id:"instrument-3",label:"Kick Drum 1",mute:!1,patternSquares:[{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:0,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_KickHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-kick2",id:"instrument-4",label:"Kick Drum 2",mute:!1,patternSquares:[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Kick_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-closed",id:"instrument-5",label:"Closed HiHat",mute:!1,patternSquares:[{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Closed_Hard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-hihat-open",id:"instrument-6",label:"Open HiHat",mute:!1,patternSquares:[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:3,previousVelocity:1,trigger:!0,velocity:2}],src:"/assets/audio/hip-hop/Cool_RnB_Hi-Hat_Open_Soft.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-snare",id:"instrument-7",label:"Snare",mute:!1,patternSquares:[{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0}],src:"/assets/audio/hip-hop/HipHopKit_SnareHard.mp3",volume:null},{active:null,dropped:!1,droppedEvent:null,focus:!1,icon:"icon-kit-0-voice",id:"instrument-8",label:"Voice",mute:!1,patternSquares:[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:5,previousVelocity:0,trigger:!1,velocity:1}],src:"/assets/audio/hip-hop/0021_props_can_soda_open _01-1.mp3",volume:null}],kitType:"Hip-hop",patternSquareGroups:[[{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:0,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:0,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:0,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:1,previousVelocity:2,trigger:!1,velocity:3},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:1,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:2,previousVelocity:1,trigger:!1,velocity:2},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:2,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:3,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:3,previousVelocity:0,trigger:!0,velocity:1},{active:!0,orderIndex:3,previousVelocity:1,trigger:!0,velocity:2}],[{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:4,previousVelocity:0,trigger:!1,velocity:1},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:4,previousVelocity:0,trigger:null,velocity:0}],[{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!1,orderIndex:5,previousVelocity:0,trigger:null,velocity:0},{active:!0,orderIndex:5,previousVelocity:0,trigger:!1,velocity:1}]],shareName:"Courtney",shareTitle:"So So Fresh",shareMessage:"Awesome work Chris & Wes!",visualization:null,objectId:"hyCDeoZDox",createdAt:"2014-04-04T00:13:34.561Z",updatedAt:"2014-04-04T00:13:34.561Z"}}]
},{}],13:[function(a,b){var c;c={BREAKPOINT_MATCH:"breakpoint:match",BREAKPOINT_UNMATCH:"breakpoint:unmatch",CHANGE_ACTIVE:"change:active",CHANGE_BPM:"change:bpm",CHANGE_DRAGGING:"change:dragging",CHANGE_DROPPED:"change:dropped",CHANGE_FOCUS:"change:focus",CHANGE_INSTRUMENT:"change:currentInstrument",CHANGE_ISMOBILE:"change:isMobile",CHANGE_KIT:"change:kitModel",CHANGE_MUTE:"change:mute",CHANGE_PLAYING:"change:playing",CHANGE_SHARE_ID:"change:shareId",CHANGE_SHOW_SEQUENCER:"change:showSequencer",CHANGE_SHOW_PAD:"change:showPad",CHANGE_TRIGGER:"change:trigger",CHANGE_VELOCITY:"change:velocity",CHANGE_VIEW:"change:view",SAVE_TRACK:"onSaveTrack",OPEN_SHARE:"onOpenShare",CLOSE_SHARE:"onCloseShare"},b.exports=c},{}],14:[function(a,b){var c;c={ROUTE:"onRouteChange",BEAT:"onBeat",IMPORT_TRACK:"onImportTrack",EXPORT_TRACK:"onExportTrack",SAVE_TRACK:"onSaveTrack"},b.exports=c},{}],15:[function(a){var b=a("digits"),c=a("handleify");c.registerHelper("repeat",function(a,d){d=d||{};var e={};d._data&&(e=c.createFrame(d._data));for(var f="",g=a-1,h=0;g>=h;h++)e={index:b.pad(h+1,{auto:a})},f+=d.fn(this,{data:e});return new c.SafeString(f)})},{digits:1,handleify:6}],16:[function(a){var b,c,d,e,f,g,h,i;g=a("fastclick"),f=a("./utils/Touch"),b=a("./config/AppConfig.coffee"),e=a("./models/kits/KitCollection.coffee"),d=a("./models/AppModel.coffee"),c=a("./AppController.coffee"),i=a("./views/templates/rotation-template.hbs"),h=a("./helpers/handlebars-helpers"),$(function(){var a,h,j,k,l,m;return f.translateTouchEvents(),g(document.body),Parse.initialize("oZgOktrcDXEetGBjCGI6qqRLNbJ7j8GTDMmPyrxb","U6b0hDT2Isb5blCVd0WU41NJ0EOFgY0Fx7orql4Q"),ZeroClipboard.config({moviePath:"assets/swf/ZeroClipboard.swf"}),$(document).on("touchmove",function(a){return a.preventDefault()}),a=$("body"),j=new e({parse:!0}),j.fetch({async:!1,url:b.returnAssetPath("data")+"/sound-data.json"}),h=new d({kitModel:j.at(0)}),$(window).innerWidth()<b.BREAKPOINTS.desktop.min?(h.set("isMobile",!0),a.addClass("mobile"),a.append(i())):a.addClass("desktop"),window.innerHeight>window.innerWidth&&$(".device-orientation").show(),l=["velocity-soft","velocity-medium","velocity-hard","bottle-mask"],_.each(l,function(a){return $('<div style="visibility:hidden" />',{"class":"preload "+a}).appendTo("body")}),k=function(){var a;return createjs.Sound.removeEventListener("fileload",k),TweenMax.to($("body"),0,{scrollTop:0,scrollLeft:0}),$("body").find(".preload").remove(),a=new c({appModel:h,kitCollection:j}),a.render()},createjs.Sound.addEventListener("fileload",k),m="assets/audio/coke/05___female_ahhh_01.mp3",createjs.Sound.registerSound(m,m)})},{"./AppController.coffee":10,"./config/AppConfig.coffee":11,"./helpers/handlebars-helpers":15,"./models/AppModel.coffee":17,"./models/kits/KitCollection.coffee":19,"./utils/Touch":35,"./views/templates/rotation-template.hbs":74,fastclick:2}],17:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../config/AppConfig.coffee"),e=a("../supers/Model.coffee"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.defaults={bpm:c.BPM,mute:null,kitModel:null,playing:null,pageFocus:!0,shareId:null,sharedTrackModel:null,showPad:null,showSequencer:null,view:null,visualization:null},b.prototype["export"]=function(){var a;return a=this.toJSON(),a.kitModel=a.kitModel.toJSON(),a.kitModel.instruments=a.kitModel.instruments.toJSON(),a.kitModel.instruments=_.map(a.kitModel.instruments,function(a){return a.patternSquares=a.patternSquares.toJSON(),a}),a},b}(e),b.exports=d},{"../config/AppConfig.coffee":11,"../supers/Model.coffee":30}],18:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../config/AppConfig.coffee"),d=a("../supers/Model.coffee"),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.className="SharedTrack",b.prototype.defaults={bpm:null,instruments:null,kitType:null,patternSquareGroups:null,shareName:null,shareTitle:null,shareMessage:null,visualization:null},b}(Parse.Object),b.exports=e},{"../config/AppConfig.coffee":11,"../supers/Model.coffee":30}],19:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../../supers/Collection.coffee"),c=a("../../config/AppConfig.coffee"),f=a("./KitModel.coffee"),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.url=""+c.returnAssetPath("data")+"/sound-data.json",b.prototype.model=f,b.prototype.kitId=0,b.prototype.parse=function(a){var b,c;return b=a.config.assetPath,c=a.kits,c=_.map(c,function(a){return a.path=b+"/"+a.folder,a})},b.prototype.findInstrumentModel=function(a){var b;return b=null,this.each(function(){return function(c){return c.get("instruments").each(function(c){return a===c.get("id")?b=c:void 0})}}(this)),null===b?!1:b},b.prototype.previousKit=function(){var a,b;return b=this.length,this.kitId>0?this.kitId--:this.kitId=b-1,a=this.at(this.kitId)},b.prototype.nextKit=function(){var a,b;return b=this.length-1,this.kitId<b?this.kitId++:this.kitId=0,a=this.at(this.kitId)},b}(d),b.exports=e},{"../../config/AppConfig.coffee":11,"../../supers/Collection.coffee":29,"./KitModel.coffee":20}],20:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("../../supers/Model.coffee"),c=a("../sequencer/InstrumentCollection.coffee"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.defaults={label:null,path:null,folder:null,instruments:null,currentInstrument:null},b.prototype.parse=function(a){return _.each(a.instruments,function(b){return b.id=_.uniqueId("instrument-"),b.src=a.path+"/"+b.src,createjs.Sound.registerSound(b.src,b.src)}),a.instruments=new c(a.instruments),a},b}(e),b.exports=d},{"../../supers/Model.coffee":30,"../sequencer/InstrumentCollection.coffee":24}],21:[function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../../supers/Model.coffee"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b}(d),b.exports=c},{"../../supers/Model.coffee":30}],22:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../sequencer/InstrumentModel.coffee"),c=a("../../supers/Collection.coffee"),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.model=d,b}(c),b.exports=e},{"../../supers/Collection.coffee":29,"../sequencer/InstrumentModel.coffee":25}],23:[function(a,b){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../supers/Model.coffee"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.defaults={dragging:!1,keycode:null,trigger:!1,currentInstrument:null},b.prototype.initialize=function(a){return b.__super__.initialize.call(this,a),this.set("id",_.uniqueId("pad-square-"))},b}(c),b.exports=d},{"../../supers/Model.coffee":30}],24:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./InstrumentModel.coffee"),c=a("../../supers/Collection.coffee"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.model=e,b.prototype.exportPatternSquares=function(){return this.map(function(){return function(a){return a.get("patternSquares")}}(this))},b}(c),b.exports=d},{"../../supers/Collection.coffee":29,"./InstrumentModel.coffee":25}],25:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../config/AppConfig.coffee"),e=a("../../supers/Model.coffee"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.defaults={active:null,dropped:!1,droppedEvent:null,focus:!1,icon:null,label:null,mute:!1,src:null,volume:null,patternSquares:null},b}(e),b.exports=d},{"../../config/AppConfig.coffee":11,"../../supers/Model.coffee":30}],26:[function(a,b){var c,d,e,f,g,h,i,j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=a("../../utils/PubSub"),d=a("../../events/AppEvent.coffee"),c=a("../../config/AppConfig.coffee"),h=a("./PatternSquareModel.coffee"),e=a("../../supers/Collection.coffee"),f=a("../sequencer/InstrumentModel.coffee"),g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return k(b,a),b.prototype.model=f,b.prototype.initialize=function(a){return b.__super__.initialize.call(this,a)},b.prototype.onImportTrack=function(){return console.log("firing import!!")},b.prototype.onExportTrack=function(){return console.log("firing export!!")},b}(e),b.exports=g},{"../../config/AppConfig.coffee":11,"../../events/AppEvent.coffee":13,"../../supers/Collection.coffee":29,"../../utils/PubSub":33,"../sequencer/InstrumentModel.coffee":25,"./PatternSquareModel.coffee":27}],27:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../../events/AppEvent.coffee"),c=a("../../config/AppConfig.coffee"),e=a("../../supers/Model.coffee"),f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.defaults={active:!1,instrument:null,previousVelocity:0,trigger:null,velocity:0},b.prototype.initialize=function(a){return b.__super__.initialize.call(this,a),this.on(d.CHANGE_VELOCITY,this.onVelocityChange)},b.prototype.cycle=function(){var a;return a=this.get("velocity"),a<c.VELOCITY_MAX?a++:a=0,this.set("velocity",a)},b.prototype.enable=function(){return this.set("velocity",1)},b.prototype.disable=function(){return this.set("velocity",0)},b.prototype.onVelocityChange=function(a){var b;return this.set("previousVelocity",a._previousAttributes.velocity),b=a.changed.velocity,b>0?this.set("active",!0):0===b?this.set("active",!1):void 0},b}(e),b.exports=f},{"../../config/AppConfig.coffee":11,"../../events/AppEvent.coffee":13,"../../supers/Model.coffee":30}],28:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=function(a,b){return function(){return a.apply(b,arguments)}},C={}.hasOwnProperty,D=function(a,b){function c(){this.constructor=a}for(var d in b)C.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../config/AppConfig.coffee"),w=a("../utils/PubSub"),v=a("../events/PubEvent.coffee"),z=a("../views/tests/TestsView.coffee"),A=a("../supers/View.coffee"),l=a("../views/create/components/KitSelector.coffee"),j=a("../models/kits/KitCollection.coffee"),k=a("../models/kits/KitModel.coffee"),e=a("../views/create/components/BPMIndicator.coffee"),i=a("../views/create/components/instruments/InstrumentSelectorPanel.coffee"),h=a("../models/sequencer/InstrumentModel.coffee"),g=a("../models/sequencer/InstrumentCollection.coffee"),r=a("../views/create/components/sequencer/PatternSquare.coffee"),t=a("../models/sequencer/PatternSquareModel.coffee"),s=a("../models/sequencer/PatternSquareCollection.coffee"),u=a("../views/create/components/sequencer/PatternTrack.coffee"),x=a("../views/create/components/sequencer/Sequencer.coffee"),n=a("../models/pad/LivePadModel.coffee"),p=a("../models/pad/PadSquareCollection.coffee"),q=a("../models/pad/PadSquareModel.coffee"),m=a("../views/create/components/pad/LivePad.coffee"),o=a("../views/create/components/pad/PadSquare.coffee"),f=a("../views/create/CreateView.coffee"),y=a("../views/create/components/share/ShareModal.coffee"),d=function(a){function b(){return this.onRouteChange=B(this.onRouteChange,this),b.__super__.constructor.apply(this,arguments)}return D(b,a),b.prototype.routes={"":"landingRoute",landing:"landingRoute",create:"createRoute",share:"shareRoute","share/:id":"shareRoute","not-supported":"notSupportedRoute",development:"tests","kit-selection":"kitSelectionRoute","bpm-indicator":"bpmIndicatorRoute","instrument-selector":"instrumentSelectorRoute","pattern-square":"patternSquareRoute","pattern-track":"patternTrackRoute",sequencer:"sequencerRoute","full-sequencer":"fullSequencerRoute","pad-square":"padSquareRoute","live-pad":"livePadRoute","share-modal":"shareModalRoute","mobile-mpc":"mobileMpcRoute"},b.prototype.initialize=function(a){return this.appController=a.appController,this.appModel=a.appModel,w.on(v.ROUTE,this.onRouteChange)},b.prototype.onRouteChange=function(a){var b;return b=a.route,this.navigate(b,{trigger:!0})},b.prototype.landingRoute=function(){return this.appModel.set("view",this.appController.landingView)},b.prototype.createRoute=function(){return this.appModel.set("view",this.appController.createView)},b.prototype.shareRoute=function(a){return console.log(a),this.appModel.set({view:this.appController.shareView,shareId:a})},b.prototype.notSupportedRoute=function(){return this.appModel.set("view",this.appController.notSupportedView)},b.prototype.tests=function(){var a;return a=new z,this.appModel.set("view",a),this.hideTop()},b.prototype.kitSelectionRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),a=new l({appModel:this.appModel,kitCollection:this.kitCollection},{appModel:this.appModel}),this.appModel.set("view",a),this.hideTop()},b.prototype.bpmIndicatorRoute=function(){var a;return a=new e({appModel:this.appModel}),a.render(),this.appModel.set("view",a),this.hideTop()},b.prototype.instrumentSelectorRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),this.appModel.set("kitModel",this.kitCollection.at(0)),a=new i({kitCollection:this.kitCollection,appModel:this.appModel}),this.appModel.set("view",a),this.hideTop()},b.prototype.patternSquareRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),a=new r({patternSquareModel:new t}),this.appModel.set("view",a),this.hideTop()},b.prototype.patternTrackRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),a=new u({appModel:this.appModel,model:this.kitCollection.at(0).get("instruments").at(0)}),this.appModel.set("view",a),this.hideTop()},b.prototype.sequencerRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),a=new x({appModel:this.appModel,collection:this.kitCollection.at(0).get("instruments")}),this.appModel.set("view",a),this.hideTop()},b.prototype.fullSequencerRoute=function(){var a,b,d,f,g;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),f=function(a){return function(){var b;return b=new l({appModel:a.appModel,kitCollection:a.kitCollection})}}(this),a=function(a){return function(){var b;return b=new e({appModel:a.appModel})}}(this),d=function(a){return function(){var b;return a.appModel.set("kitModel",a.kitCollection.at(0)),b=new i({kitCollection:a.kitCollection,appModel:a.appModel})}}(this),g=function(a){return function(){var b;return b=new x({appModel:a.appModel,collection:a.kitCollection.at(0).get("instruments")})}}(this),b=new A,b.$el.append(f().render().el),b.$el.append(a().render().el),b.$el.append(d().render().el),b.$el.append(g().render().el),this.appModel.set("view",b),this.hideTop()},b.prototype.padSquareRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),a=new o({model:new q,collection:this.kitCollection}),this.appModel.set("view",a),this.hideTop()},b.prototype.livePadRoute=function(){var a;return this.kitCollection=new j({parse:!0}),this.kitCollection.fetch({async:!1,url:c.returnAssetPath("data")+"/sound-data.json"}),a=new m({appModel:this.appModel,kitCollection:this.kitCollection}),this.appModel.set("view",a),this.hideTop()},b.prototype.shareModalRoute=function(){var a;return a=new y({appModel:this.appModel,kitCollection:this.kitCollection}),this.appModel.set("view",a),this.hideTop()},b.prototype.hideTop=function(){return $("#container-main").hide()},b.prototype.mobileMpcRoute=function(){return this.appModel.set("view",this.appController.createView)},b}(Backbone.Router),b.exports=d},{"../config/AppConfig.coffee":11,"../events/PubEvent.coffee":14,"../models/kits/KitCollection.coffee":19,"../models/kits/KitModel.coffee":20,"../models/pad/LivePadModel.coffee":21,"../models/pad/PadSquareCollection.coffee":22,"../models/pad/PadSquareModel.coffee":23,"../models/sequencer/InstrumentCollection.coffee":24,"../models/sequencer/InstrumentModel.coffee":25,"../models/sequencer/PatternSquareCollection.coffee":26,"../models/sequencer/PatternSquareModel.coffee":27,"../supers/View.coffee":31,"../utils/PubSub":33,"../views/create/CreateView.coffee":36,"../views/create/components/BPMIndicator.coffee":37,"../views/create/components/KitSelector.coffee":38,"../views/create/components/instruments/InstrumentSelectorPanel.coffee":43,"../views/create/components/pad/LivePad.coffee":46,"../views/create/components/pad/PadSquare.coffee":47,"../views/create/components/sequencer/PatternSquare.coffee":52,"../views/create/components/sequencer/PatternTrack.coffee":53,"../views/create/components/sequencer/Sequencer.coffee":54,"../views/create/components/share/ShareModal.coffee":58,"../views/tests/TestsView.coffee":75}],29:[function(a,b){var c,d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b}(Backbone.Collection),b.exports=c},{}],30:[function(a,b){var c,d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b}(Backbone.Model),b.exports=c},{}],31:[function(a,b){var c,d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.initialize=function(a){return _.extend(this,_.defaults(a=a||this.defaults,this.defaults||{}))},b.prototype.render=function(a){return a=a||{},this.template&&(this.model instanceof Backbone.Model&&(a=this.model.toJSON()),a.isDesktop=$("body").hasClass("desktop")?!0:!1,this.$el.html(this.template(a))),this.isMobile=$("body").hasClass("mobile")?!0:!1,this.delegateEvents(),this.addEventListeners(),this},b.prototype.remove=function(){return this.removeEventListeners(),this.$el.remove(),this.undelegateEvents()},b.prototype.show=function(){},b.prototype.hide=function(a){return TweenMax.to(this.$el,0,{autoAlpha:0,onComplete:function(b){return function(){return(null!=a?a.remove:void 0)?b.remove():void 0}}(this)})},b.prototype.addEventListeners=function(){},b.prototype.removeEventListeners=function(){return this.stopListening()},b}(Backbone.View),b.exports=c},{}],32:[function(a,b){var c;c=function(){function a(a){this.scope=a.scope,this.breakpoints=a.breakpoints,$.each(this.breakpoints,function(a){return function(b,c){var d;return d=null===c.min?"screen and (min-width:0px) and (max-width:"+c.max+"px)":null===c.max?"screen and (min-width:"+c.min+"px)":"screen and (min-width:"+c.min+"px) and (max-width:"+c.max+"px)",enquire.register(d,{match:function(){return a.scope.trigger("breakpoint:match",b)},unmatch:function(){return a.scope.trigger("breakpoint:unmatch",b)}})}}(this))}return a.prototype.scope=null,a.prototype.breakpoints=[],a}(),b.exports=c},{}],33:[function(a,b){"use strict";var c={};_.extend(c,Backbone.Events),b.exports=c},{}],34:[function(a,b){var c={lines:7,length:6,width:3,radius:6,corners:1,rotate:0,direction:1,color:"#fff",speed:1,trail:78,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},d=function(a){return this.target=a.target,this.options=_.extend(c,a),this.init()};d.prototype.init=function(){this.spinner=new Spinner(c).spin(this.target),this.$el=$(this.spinner.el),TweenMax.set(this.$el,{autoAlpha:0}),this.hide()},d.prototype.show=function(){TweenMax.to(this.$el,.2,{autoAlpha:1})},d.prototype.hide=function(){TweenMax.to(this.$el,.2,{autoAlpha:0})},b.exports=d},{}],35:[function(a,b){var c={translateTouchEvents:function(){"ontouchstart"in window||($(document).on("mousedown","body",function(a){$(a.target).trigger("touchstart")}),$(document).on("mouseup","body",function(a){$(a.target).trigger("touchend")}))}};b.exports=c},{}],36:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=function(a,b){return function(){return a.apply(b,arguments)}},t={}.hasOwnProperty,u=function(a,b){function c(){this.constructor=a}for(var d in b)t.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};l=a("../../utils/PubSub"),q=a("../../supers/View.coffee"),c=a("../../events/AppEvent.coffee"),k=a("../../events/PubEvent.coffee"),o=a("../../models/SharedTrackModel.coffee"),g=a("./components/KitSelector.coffee"),j=a("./components/PlayPauseBtn.coffee"),p=a("./components/Toggle.coffee"),i=a("./components/PatternSelector.coffee"),f=a("./components/instruments/InstrumentSelectorPanel.coffee"),m=a("./components/sequencer/Sequencer.coffee"),h=a("./components/pad/LivePad.coffee"),n=a("./components/share/ShareModal.coffee"),d=a("./components/BPMIndicator.coffee"),r=a("./templates/create-template.hbs"),e=function(a){function b(){return this.onJamLiveBtnClick=s(this.onJamLiveBtnClick,this),this.onShowSequencerChange=s(this.onShowSequencerChange,this),this.onCloseShare=s(this.onCloseShare,this),this.onResetBtnClick=s(this.onResetBtnClick,this),this.onShareBtnClick=s(this.onShareBtnClick,this),this.onSaveTrack=s(this.onSaveTrack,this),this.onBeat=s(this.onBeat,this),this.hide=s(this.hide,this),this.show=s(this.show,this),b.__super__.constructor.apply(this,arguments)}return u(b,a),b.prototype.className="container-create",b.prototype.template=r,b.prototype.events={"touchend .btn-share":"onShareBtnClick","touchend .btn-export":"onExportBtnClick","touchend .btn-clear":"onResetBtnClick","touchend .btn-jam-live":"onJamLiveBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.playPauseBtn=new j({appModel:this.appModel}),this.toggle=new p({appModel:this.appModel}),this.$body=$("body"),this.$mainContainer=this.$body.find("#container-main"),this.$bottomContainer=this.$body.find("#container-bottom"),this.$wrapper=this.$el.find(".wrapper"),this.$kitSelectorContainer=this.$el.find(".container-kit-selector"),this.$toggleContainer=this.$el.find(".container-toggle"),this.$playPauseContainer=this.$el.find(".container-play-pause"),this.$sequencerContainer=this.$el.find(".container-sequencer"),this.$livePadContainer=this.$el.find(".container-live-pad"),this.$patternSelectorContainer=this.$el.find(".column-2"),this.$bpmContainer=this.$el.find(".column-3"),this.$instrumentSelector=this.$sequencerContainer.find(".instrument-selector"),this.$sequencer=this.$sequencerContainer.find(".sequencer"),this.$livePad=this.$sequencerContainer.find(".live-pad"),this.$patternSelector=this.$sequencerContainer.find(".pattern-selector"),this.$bpm=this.$sequencerContainer.find(".bpm"),this.$shareBtn=this.$sequencerContainer.find(".btn-share"),this.$playPauseContainer.html(this.playPauseBtn.render().el),TweenMax.to(this.$body,0,{scrollTop:0,scrollLeft:0}),this.isMobile||this.$toggleContainer.html(this.toggle.render().el),this.isMobile&&(this.$row1=this.$el.find(".row-1"),this.$row2=this.$el.find(".row-2"),this.$row3=this.$el.find(".row-3"),this.$row4=this.$el.find(".row-4"),this.renderInstrumentSelector(),_.defer(function(a){return function(){return a.appModel.set("showSequencer",!0),a.instrumentSelector.instrumentViews[0].onClick()}}(this))),TweenMax.set(this.$bottomContainer,{y:300}),this.renderKitSelector(),this.renderSequencer(),this.renderLivePad(),this.renderPatternSelector(),this.renderBPM(),this.$kitSelector=this.$el.find(".kit-selector"),this},b.prototype.show=function(){return this.showUI(),this.appModel.set("showSequencer",!1),this.isMobile?(TweenMax.to($(".top-bar"),.3,{autoAlpha:1}),TweenMax.fromTo(this.$mainContainer,.4,{y:1e3},{immediateRender:!0,y:0,ease:Expo.easeOut,delay:1})):void 0},b.prototype.hide=function(a){return TweenMax.fromTo(this.$el,.3,{autoAlpha:1},{autoAlpha:0}),this.kitSelector.hide(),this.isMobile&&TweenMax.to($(".top-bar"),.3,{autoAlpha:0}),this.$bottomContainer.length?TweenMax.fromTo(this.$bottomContainer,.4,{y:0},{y:300,ease:Expo.easeOut,onComplete:function(b){return function(){return b.appModel.set({showSequencer:null,showPad:null}),(null!=a?a.remove:void 0)?b.remove():void 0}}(this)}):void 0},b.prototype.showUI=function(){return this.kitSelector.show(),TweenMax.fromTo(this.$el,.3,{autoAlpha:0},{autoAlpha:1,delay:.3}),TweenMax.fromTo(this.$bottomContainer,.4,{y:300},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:.3})},b.prototype.hideUI=function(){return this.kitSelector.hide(),TweenMax.fromTo(this.$el,.3,{autoAlpha:1},{autoAlpha:0}),TweenMax.fromTo(this.$bottomContainer,.4,{y:0},{y:300,ease:Expo.easeOut})},b.prototype.remove=function(){var a,c;return this.playPauseBtn.remove(),this.playPauseBtn=null,this.toggle.remove(),this.toggle=null,this.kitSelector.remove(),this.kitSelector=null,this.sequencer.remove(),this.sequencer=null,this.livePad.remove(),this.livePad=null,this.patternSelector.remove(),this.patternSelector=null,this.bpm.remove(),this.bpm=null,null!=(a=this.instrumentSelector)&&a.remove(),this.instrumentSelector=null,null!=(c=this.shareModal)&&c.remove(),this.shareModal=null,this.appModel.set("playing",!1),$(".container-kit-selector").remove(),b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,c.CHANGE_SHOW_SEQUENCER,this.onShowSequencerChange)},b.prototype.removeEventListeners=function(){return b.__super__.removeEventListeners.call(this)},b.prototype.renderKitSelector=function(){var a;return this.kitSelector=new g({appModel:this.appModel,kitCollection:this.kitCollection}),a=this.kitSelector.render().el,this.isMobile?this.$row2.append(a):this.$mainContainer.prepend(a)},b.prototype.renderInstrumentSelector=function(){return this.instrumentSelector=new f({appModel:this.appModel,kitCollection:this.kitCollection}),this.$row3.prepend(this.instrumentSelector.render().el)},b.prototype.renderSequencer=function(){var a;return this.sequencer=new m({appModel:this.appModel,kitCollection:this.kitCollection,collection:this.kitCollection.at(0).get("instruments")}),a=this.sequencer.render().el,this.isMobile?this.$row4.html(a):this.$sequencer.prepend(a),this.listenTo(this.sequencer,k.BEAT,this.onBeat)},b.prototype.renderLivePad=function(){var a;return this.livePad=new h({appModel:this.appModel,kitCollection:this.kitCollection}),a=this.livePad.render().el,this.isMobile?this.$livePadContainer.html(a):this.$livePad.html(a)},b.prototype.renderPatternSelector=function(){var a;return this.patternSelector=new i({appModel:this.appModel,sequencer:this.sequencer}),a=this.patternSelector.render().el,this.isMobile?this.$row2.append(a):this.$patternSelector.html(a)},b.prototype.renderBPM=function(){var a;return this.bpm=new d({appModel:this.appModel}),a=this.bpm.render().el,this.isMobile?this.$row1.append(a):this.$bpm.html(a)},b.prototype.renderShareModal=function(){return this.shareModal=new n({appModel:this.appModel,sharedTrackModel:this.sharedTrackModel}),this.isMobile?(this.$mainContainer.append(this.shareModal.render().el),TweenMax.to(this.$sequencerContainer,.6,{y:-window.innerHeight,ease:Expo.easeInOut})):this.$body.prepend(this.shareModal.render().el),this.shareModal.show(),this.listenTo(this.shareModal,c.SAVE_TRACK,this.onSaveTrack),this.listenTo(this.shareModal,c.CLOSE_SHARE,this.onCloseShare)},b.prototype.onBeat=function(a){return this.trigger(k.BEAT,a)},b.prototype.onSaveTrack=function(){return this.trigger(c.SAVE_TRACK,{sharedTrackModel:this.sharedTrackModel})},b.prototype.onShareBtnClick=function(){return this.trigger(c.OPEN_SHARE),this.renderShareModal()},b.prototype.onResetBtnClick=function(){return this.appModel.set({bpm:320,sharedTrackModel:null}),this.patternSelector.$el.find(".selected").removeClass("selected"),this.sequencer.renderTracks()},b.prototype.onCloseShare=function(){return this.trigger(c.CLOSE_SHARE),this.stopListening(this.shareModal),this.isMobile?TweenMax.to(this.$sequencerContainer,.6,{y:0,ease:Expo.easeInOut}):void 0},b.prototype.onShowSequencerChange=function(a){return a.changed.showSequencer?this.showSequencer():this.showLivePad()},b.prototype.onJamLiveBtnClick=function(){return this.appModel.set("showSequencer",!0)},b.prototype.showSequencer=function(){var a;return a=.6,this.isMobile?(TweenMax.to(this.$sequencerContainer,a,{x:0,autoAlpha:1,ease:Expo.easeInOut}),TweenMax.to(this.$livePadContainer,a,{x:window.innerWidth,autoAlpha:0,ease:Expo.easeInOut})):(TweenMax.to(this.$sequencer,a,{autoAlpha:1,x:0,ease:Expo.easeInOut}),TweenMax.to(this.$livePad,a,{autoAlpha:0,x:2e3,ease:Expo.easeInOut}))},b.prototype.showLivePad=function(){var a;return a=.6,this.isMobile?(TweenMax.to(this.$sequencerContainer,a,{autoAlpha:0,x:-window.innerWidth,ease:Expo.easeInOut}),TweenMax.fromTo(this.$livePadContainer,a,{x:window.innerWidth},{autoAlpha:1,x:0,ease:Expo.easeInOut})):(TweenMax.to(this.$sequencer,a,{autoAlpha:0,x:-2e3,ease:Expo.easeInOut}),TweenMax.to(this.$livePad,a,{autoAlpha:1,x:0,ease:Expo.easeInOut}))},b}(q),b.exports=e},{"../../events/AppEvent.coffee":13,"../../events/PubEvent.coffee":14,"../../models/SharedTrackModel.coffee":18,"../../supers/View.coffee":31,"../../utils/PubSub":33,"./components/BPMIndicator.coffee":37,"./components/KitSelector.coffee":38,"./components/PatternSelector.coffee":39,"./components/PlayPauseBtn.coffee":40,"./components/Toggle.coffee":41,"./components/instruments/InstrumentSelectorPanel.coffee":43,"./components/pad/LivePad.coffee":46,"./components/sequencer/Sequencer.coffee":54,"./components/share/ShareModal.coffee":58,"./templates/create-template.hbs":66}],37:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a
};c=a("../../../config/AppConfig.coffee"),d=a("../../../events/AppEvent.coffee"),f=a("../../../supers/View.coffee"),g=a("./templates/bpm-template.hbs"),e=function(a){function b(){return this.onIncreaseBtnDown=h(this.onIncreaseBtnDown,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.className="container-bpm",b.prototype.appModel=null,b.prototype.template=g,b.prototype.intervalUpdateTime=70,b.prototype.updateInterval=null,b.prototype.bpmIncreaseAmount=10,b.prototype.currBPM=null,b.prototype.events={"touchstart .btn-increase":"onIncreaseBtnDown","touchstart .btn-decrease":"onDecreaseBtnDown","touchend   .btn-increase":"onBtnUp","touchend   .btn-decrease":"onBtnUp","touchend   .wrapper":"onBtnUp","mouseup    .wrapper":"onBtnUp"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$bpmLabel=this.$el.find(".bpm-value"),this.increaseBtn=this.$el.find(".btn-increase"),this.decreaseBtn=this.$el.find(".btn-decrease"),this.currBPM=this.appModel.get("bpm"),this.$bpmLabel.text(this.currBPM),this.onBtnUp(),this},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,d.CHANGE_BPM,this.onBPMChange)},b.prototype.increaseBPM=function(){return clearInterval(this.updateInterval),this.updateInterval=setInterval(function(a){return function(){var b;return b=a.currBPM,b<c.BPM_MAX?b+=a.bpmIncreaseAmount:b=c.BPM_MAX,a.currBPM=b,a.$bpmLabel.text(a.currBPM)}}(this),this.intervalUpdateTime)},b.prototype.decreaseBPM=function(){return clearInterval(this.updateInterval),this.updateInterval=setInterval(function(a){return function(){var b;return b=a.currBPM,b>0?b-=a.bpmIncreaseAmount:b=0,a.currBPM=b,a.$bpmLabel.text(a.currBPM)}}(this),this.intervalUpdateTime)},b.prototype.onIncreaseBtnDown=function(){return this.increaseBPM()},b.prototype.onDecreaseBtnDown=function(){return this.decreaseBPM()},b.prototype.onBtnUp=function(){return clearInterval(this.updateInterval),this.updateInterval=null,this.appModel.set("bpm",.5*Math.floor(6e4/this.currBPM))},b.prototype.onBPMChange=function(a){var b;return b=a.changed.bpm},b}(f),b.exports=e},{"../../../config/AppConfig.coffee":11,"../../../events/AppEvent.coffee":13,"../../../supers/View.coffee":31,"./templates/bpm-template.hbs":61}],38:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../events/AppEvent.coffee"),e=a("../../../supers/View.coffee"),f=a("./templates/kit-selection-template.hbs"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.className="container-kit-selector",b.prototype.appModel=null,b.prototype.kitCollection=null,b.prototype.kitModel=null,b.prototype.template=f,b.prototype.events={"touchend .btn-left":"onLeftBtnClick","touchend .btn-right":"onRightBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$kitLabel=this.$el.find(".label-kit").find("div"),null===this.appModel.get("kitModel")&&this.appModel.set("kitModel",this.kitCollection.at(0)),this.$kitLabel.text(this.appModel.get("kitModel").get("label")),this},b.prototype.show=function(){return this.isMobile?void 0:TweenMax.fromTo(this.$el,.4,{y:-100},{y:0,ease:Expo.easeOut,delay:.3})},b.prototype.hide=function(){return this.isMobile?void 0:TweenMax.fromTo(this.$el,.4,{y:0},{y:-100,ease:Expo.easeOut})},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,c.CHANGE_KIT,this.onChangeKit)},b.prototype.onLeftBtnClick=function(){return this.appModel.set("kitModel",this.kitCollection.previousKit())},b.prototype.onRightBtnClick=function(){return this.appModel.set("kitModel",this.kitCollection.nextKit())},b.prototype.onChangeKit=function(a){return this.kitModel=a.changed.kitModel,TweenMax.to(this.$kitLabel,.2,{y:-20,ease:Expo.easeIn,onComplete:function(a){return function(){return a.$kitLabel.text(a.kitModel.get("label")),TweenMax.fromTo(a.$kitLabel,.2,{y:20},{y:0,ease:Expo.easeOut})}}(this)})},b}(e),b.exports=d},{"../../../events/AppEvent.coffee":13,"../../../supers/View.coffee":31,"./templates/kit-selection-template.hbs":62}],39:[function(a,b){var c,d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../config/AppConfig.coffee"),d=a("../../../events/AppEvent.coffee"),f=a("../../../models/SharedTrackModel.coffee"),g=a("../../../supers/View.coffee"),h=a("../../../config/Presets"),i=a("./templates/pattern-selector-template.hbs"),e=function(a){function b(){return this.onBtnClick=j(this.onBtnClick,this),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.className="container-pattern-selector",b.prototype.template=i,b.selectedIndex=-1,b.prototype.events={"touchend .btn":"onBtnClick"},b.prototype.initialize=function(a){return b.__super__.initialize.call(this,a),this.presetModels=_.map(h,function(a){return new f(a.track)})},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$btns=this.$el.find(".btn"),this},b.prototype.onBtnClick=function(a){var b,c;return c=this,b=$(a.currentTarget),this.$btns.each(function(a){return b.text()!==$(this).text()?$(this).removeClass("selected"):c.selectedIndex=a}),b.hasClass("selected")===!1?b.addClass("selected"):(b.removeClass("selected"),c.selectedIndex=-1),this.importTrack()},b.prototype.importTrack=function(){var a;return-1!==this.selectedIndex?(a=this.presetModels[this.selectedIndex],this.appModel.set({bpm:a.get("bpm"),sharedTrackModel:a}),this.sequencer.importTrack({kitType:a.get("kitType"),instruments:a.get("instruments"),patternSquareGroups:a.get("patternSquareGroups")})):(this.appModel.set({bpm:120,sharedTrackModel:null}),this.sequencer.renderTracks())},b}(g),b.exports=e},{"../../../config/AppConfig.coffee":11,"../../../config/Presets":12,"../../../events/AppEvent.coffee":13,"../../../models/SharedTrackModel.coffee":18,"../../../supers/View.coffee":31,"./templates/pattern-selector-template.hbs":63}],40:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../config/AppConfig.coffee"),d=a("../../../events/AppEvent.coffee"),f=a("../../../supers/View.coffee"),g=a("./templates/play-pause-template.hbs"),e=function(a){function b(){return this.onClick=h(this.onClick,this),this.onPlayChange=h(this.onPlayChange,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.className="btn-play-pause",b.prototype.template=g,b.prototype.events={touchend:"onClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$playBtn=this.$el.find(".btn-play"),this.$pauseBtn=this.$el.find(".btn-pause"),this.$label=this.$el.find(".label-btn"),TweenMax.set(this.$playBtn,{autoAlpha:0}),this},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,d.CHANGE_PLAYING,this.onPlayChange)},b.prototype.onPlayChange=function(a){var b;return b=a.changed.playing,b?this.setPlayState():this.setPauseState()},b.prototype.onClick=function(){var a,b,c;return a=!this.appModel.get("playing"),c=a===!0?1:0,b={volume:1===c?0:1},TweenMax.to(b,.4,{volume:c,onUpdate:function(){return function(){return createjs.Sound.setVolume(b.volume)}}(this),onComplete:function(b){return function(){return a===!1?b.appModel.set("playing",a):void 0}}(this)}),a===!0?this.appModel.set("playing",a):this.setPauseState()},b.prototype.setPlayState=function(){return TweenMax.set(this.$playBtn,{autoAlpha:0}),TweenMax.set(this.$pauseBtn,{autoAlpha:1}),this.$label.text("PAUSE")},b.prototype.setPauseState=function(){return TweenMax.set(this.$playBtn,{autoAlpha:1}),TweenMax.set(this.$pauseBtn,{autoAlpha:0}),this.$label.text("PLAY")},b}(f),b.exports=e},{"../../../config/AppConfig.coffee":11,"../../../events/AppEvent.coffee":13,"../../../supers/View.coffee":31,"./templates/play-pause-template.hbs":64}],41:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../config/AppConfig.coffee"),d=a("../../../events/AppEvent.coffee"),f=a("../../../supers/View.coffee"),g=a("./templates/toggle-template.hbs"),e=function(a){function b(){return this.onShowSequencerChange=h(this.onShowSequencerChange,this),this.onPadBtnClick=h(this.onPadBtnClick,this),this.onStepsBtnClick=h(this.onStepsBtnClick,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.className="toggle",b.prototype.template=g,b.prototype.events={"touchend .btn-steps":"onStepsBtnClick","touchend .btn-pads":"onPadBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$stepsBtn=this.$el.find(".btn-steps"),this.$padBtn=this.$el.find(".btn-pads"),this},b.prototype.addEventListeners=function(){return this.appModel.on("change:showSequencer",this.onShowSequencerChange)},b.prototype.onStepsBtnClick=function(){return this.appModel.set({showSequencer:!0})},b.prototype.onPadBtnClick=function(){return this.appModel.set({showSequencer:!1})},b.prototype.onShowSequencerChange=function(a){return a.changed.showSequencer?(this.$stepsBtn.addClass("selected"),this.$padBtn.removeClass("selected")):(this.$stepsBtn.removeClass("selected"),this.$padBtn.addClass("selected"))},b}(f),b.exports=e},{"../../../config/AppConfig.coffee":11,"../../../events/AppEvent.coffee":13,"../../../supers/View.coffee":31,"./templates/toggle-template.hbs":65}],42:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../../events/AppEvent.coffee"),e=a("../../../../supers/View.coffee"),f=a("./templates/instrument-template.hbs"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.className="instrument",b.prototype.template=f,b.prototype.model=null,b.prototype.kitModel=null,b.prototype.events={touchend:"onClick"},b.prototype.onClick=function(){return this.kitModel.set("currentInstrument",this.model),this.$el.addClass("selected")},b}(e),b.exports=d},{"../../../../events/AppEvent.coffee":13,"../../../../supers/View.coffee":31,"./templates/instrument-template.hbs":45}],43:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../../events/AppEvent.coffee"),f=a("../../../../supers/View.coffee"),d=a("./Instrument.coffee"),g=a("./templates/instrument-panel-template.hbs"),e=function(a){function b(){return this.onInstrumentChange=h(this.onInstrumentChange,this),this.onKitChange=h(this.onKitChange,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.template=g,b.prototype.appModel=null,b.prototype.kitCollection=null,b.prototype.kitModel=null,b.prototype.instrumentViews=null,b.prototype.initialize=function(a){return b.__super__.initialize.call(this,a),this.kitModel=this.appModel.get("kitModel")},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$container=this.$el.find(".instruments"),this.renderInstruments(),this},b.prototype.renderInstruments=function(){return this.instrumentViews=[],this.kitModel.get("instruments").each(function(a){return function(b){var c;return c=new d({kitModel:a.kitModel,model:b}),a.$container.append(c.render().el),a.instrumentViews.push(c)}}(this))},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,c.CHANGE_KIT,this.onKitChange),this.listenTo(this.kitModel,c.CHANGE_INSTRUMENT,this.onInstrumentChange)},b.prototype.removeEventListeners=function(){return this.stopListening()},b.prototype.onKitChange=function(a){return this.removeEventListeners(),this.kitModel=a.changed.kitModel,_.each(this.instrumentViews,function(a){return a.remove()}),this.renderInstruments(),this.addEventListeners()},b.prototype.onInstrumentChange=function(){return this.$container.find(".instrument").removeClass("selected")},b.prototype.onTestClick=function(){return this.appModel.set("kitModel",this.kitCollection.nextKit())},b}(f),b.exports=e},{"../../../../events/AppEvent.coffee":13,"../../../../supers/View.coffee":31,"./Instrument.coffee":42,"./templates/instrument-panel-template.hbs":44}],44:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"\n<div class='container-instruments'>\n\n	<div class='label'>\n		DRUM PATTERN EDITOR\n	</div>\n\n	<div class='instruments'>\n\n	</div>\n\n</div>"})},{handleify:6}],45:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function";return g+="<div class='icon ",(f=c.icon)?f=f.call(b,{hash:{},data:e}):(f=b.icon,f=typeof f===h?f.apply(b):f),(f||0===f)&&(g+=f),g+="'></div>"})},{handleify:6}],46:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m=function(a,b){return function(){return a.apply(b,arguments)}},n={}.hasOwnProperty,o=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../../events/AppEvent.coffee"),f=a("../../../../models/pad/PadSquareCollection.coffee"),g=a("../../../../models/pad/PadSquareModel.coffee"),i=a("../../../../supers/View.coffee"),e=a("./PadSquare.coffee"),h=a("../PlayPauseBtn.coffee"),k=a("./templates/pads-template.hbs"),j=a("./templates/instruments-template.hbs"),l=a("./templates/live-pad-template.hbs"),d=function(a){function b(){return this.parseDraggedAndDropped=m(this.parseDraggedAndDropped,this),this.preventInstrumentDrop=m(this.preventInstrumentDrop,this),this.dropInstrument=m(this.dropInstrument,this),this.onPadSquareDraggingStart=m(this.onPadSquareDraggingStart,this),this.onDroppedChange=m(this.onDroppedChange,this),this.onMouseMove=m(this.onMouseMove,this),this.onBackBtnClick=m(this.onBackBtnClick,this),this.onTabClick=m(this.onTabClick,this),this.onKeyPress=m(this.onKeyPress,this),b.__super__.constructor.apply(this,arguments)}return o(b,a),b.prototype.KEYMAP=["1","2","3","4","q","w","e","r","a","s","d","f","z","x","c","v"],b.prototype.className="container-live-pad",b.prototype.template=l,b.prototype.appModel=null,b.prototype.kitCollection=null,b.prototype.instrumentCollection=null,b.prototype.padSquareCollection=null,b.prototype.padSquareViews=null,b.prototype.mousePosition={x:0,y:0},b.prototype.events={"touchend .btn-edit":"onEditBtnClick","touchend .tab":"onTabClick","touchend .btn-back":"onBackBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$padsContainer=this.$el.find(".container-pads"),this.$instrumentsContainer=this.$el.find(".container-instruments"),this.renderPads(),this.renderInstruments(),_.each(this.padSquareViews,function(a){return function(b){var c;return c=b.model.get("id"),a.$el.find("#"+c).html(b.render().el)}}(this)),this.isMobile&&(this.playPauseBtn=new h({appModel:this.appModel}),this.$playPauseContainer=this.$el.find(".container-play-pause"),this.$playLabel=this.$playPauseContainer.find(".label-btn"),this.$instructions=this.$el.find(".instructions"),this.$tabs=this.$el.find(".tab"),this.$kits=this.$el.find(".container-kit"),this.$playPauseContainer.html(this.playPauseBtn.render().el),this.$playLabel.text("PAUSE SEQUENCE"),_.delay(function(a){return function(){return $(a.$tabs[0]).trigger("touchend")}}(this),100)),this.initDragAndDrop(),this},b.prototype.remove=function(){return _.each(this.padSquareViews,function(){return function(a){return a.remove()}}(this)),this.$padsContainer.remove(),b.__super__.remove.call(this)},b.prototype.renderPads=function(){return this.$padsContainer.html(k({padTable:this.returnPadTableData(),isDesktop:!this.isMobile}))},b.prototype.renderInstruments=function(){return this.$instrumentsContainer.html(j({instrumentTable:this.returnInstrumentTableData(),isDesktop:!this.isMobile})),this.isMobile?(this.$kits=this.$el.find(".container-kit"),this.$tabs=this.$el.find(".tab")):void 0},b.prototype.addEventListeners=function(){return $(document).on("mousemove",this.onMouseMove),_.each(this.KEYMAP,function(a){return function(b){return $(document).on("keydown",null,b,a.onKeyPress)}}(this))},b.prototype.removeEventListeners=function(){return $(document).off("mousemove",this.onMouseMove),_.each(this.KEYMAP,function(a){return function(b){return $(document).off("keydown",null,b,a.onKeyPress)}}(this)),this.stopListening()},b.prototype.onKeyPress=function(a){var b,c;return c=a.handleObj.data,b=_.indexOf(this.KEYMAP,c),this.padSquareViews[b].onPress()},b.prototype.onEditBtnClick=function(){return this.$instructions.hide(),this.$instrumentsContainer.show()},b.prototype.onTabClick=function(a){var b;return this.$kits.hide(),this.$tabs.removeClass("selected"),b=$(a.currentTarget),this.selectedIndex=b.index(),b.addClass("selected"),$(this.$kits[this.selectedIndex]).show()},b.prototype.onBackBtnClick=function(){return this.appModel.set("showSequencer",!0)},b.prototype.onMouseMove=function(a){return this.mousePosition={x:a.pageX,y:a.pageY}},b.prototype.onDroppedChange=function(a){var b,c,d,e;return c=a.get("id"),b=this.$el.find("."+c),d=b.attr("id"),e=this.padSquareCollection.findWhere({id:d}),void 0!==e?e.set("currentInstrument",a):void 0},b.prototype.onPadSquareDraggingStart=function(a){var b,c,d,e,f,g,h;return e=a.instrumentId,c=a.$padSquare,h=a.originalDroppedEvent,b=$(document.getElementById(e)),d=_.find(this.draggable,function(){return function(a){return $(a._eventTarget).attr("id")===b.attr("id")?a:void 0}}(this)),g=b.offset(),b.css("position","absolute"),f=this.kitCollection.findInstrumentModel(b.attr("id")),TweenMax.set(b,{left:this.mousePosition.x-.5*b.width(),top:this.mousePosition.y-.5*b.height()}),d.startDrag(h),d.update(!0),b.show()},b.prototype.initDragAndDrop=function(){var a,b;return b=this,this.$instrument=this.$el.find(".instrument"),a=this.$el.find(".container-pad"),this.draggable=Draggable.create(this.$instrument,{onDrag:function(){var c,d,e;for(c=a.length,e=[];--c>-1;)this.hitTest(a[c],"50%")?(d=$(a[c]).attr("data-instrument"),e.push(null===d||void 0===d?TweenMax.to(b.padSquareViews[c].$border,.2,{autoAlpha:1}):void 0)):e.push(TweenMax.to(b.padSquareViews[c].$border,.2,{autoAlpha:0}));return e},onDragEnd:function(c){var d,e,f,g,h,i,j;for(h=a.length,g=!1,d=null,e=null,j=[];--h>-1;){if(this.hitTest(a[h],"50%")){if(i=$(a[h]).attr("data-instrument"),null!==i&&void 0!==i){b.preventInstrumentDrop(this.target,a[h]);break}g=!0,b.dropInstrument(this.target,a[h],c),TweenMax.to(b.padSquareViews[h].$border,.2,{autoAlpha:0})}j.push(g===!1?f=this.target:void 0)}return j}})},b.prototype.dropInstrument=function(a,b,c){var d,e,f,g,h;return h=this.parseDraggedAndDropped(a,b),d=h.$dragged,e=h.$dropped,f=h.id,g=h.instrumentModel,e.addClass(f),e.attr("data-instrument",""+f),g.set({dropped:!0,droppedEvent:c}),_.defer(function(a){return function(){return a.renderInstruments(),a.initDragAndDrop(),a.isMobile?a.reselectMobileTab():void 0}}(this))},b.prototype.preventInstrumentDrop=function(a,b){var c,d,e,f,g;return g=this.parseDraggedAndDropped(a,b),c=g.$dragged,d=g.$dropped,e=g.id,f=g.instrumentModel,f.set({dropped:!1,droppedEvent:null}),_.defer(function(a){return function(){return a.renderInstruments(),a.initDragAndDrop(),a.isMobile?a.reselectMobileTab():void 0}}(this))},b.prototype.parseDraggedAndDropped=function(a,b){var c,d,e,f;return c=$(a),d=$(b),e=c.attr("id"),f=this.kitCollection.findInstrumentModel(e),{$dragged:c,$dropped:d,id:e,instrumentModel:f}},b.prototype.returnPadTableData=function(){var a,b,d;return this.padSquareCollection=new f,this.padSquareViews=[],b={},d=[],a=0,_(4).times(function(b){return function(f){var h;return h=[],_(4).times(function(){var d,f;return d=new g({keycode:b.KEYMAP[a],index:a+1}),f=new e({model:d,collection:b.kitCollection}),b.padSquareCollection.add(d),b.padSquareViews.push(f),a++,b.listenTo(f,c.CHANGE_DRAGGING,b.onPadSquareDraggingStart),h.push({id:f.model.get("id")})}),d.push({id:"pad-row-"+f,tds:h})}}(this)),b.rows=d,b},b.prototype.returnInstrumentTableData=function(){var a;return a=this.kitCollection.map(function(a){return function(b){var d,e;return d=b.get("instruments"),a.listenTo(d,c.CHANGE_DROPPED,a.onDroppedChange),e=d.map(function(a){return a.toJSON()}),{label:b.get("label"),icon:b.get("icon"),instruments:e}}}(this))},b.prototype.reselectMobileTab=function(){return this.$kits.hide(),$(this.$kits[this.selectedIndex]).show(),$(this.$tabs[this.selectedIndex]).addClass("selected")},b}(i),b.exports=d},{"../../../../events/AppEvent.coffee":13,"../../../../models/pad/PadSquareCollection.coffee":22,"../../../../models/pad/PadSquareModel.coffee":23,"../../../../supers/View.coffee":31,"../PlayPauseBtn.coffee":40,"./PadSquare.coffee":47,"./templates/instruments-template.hbs":48,"./templates/live-pad-template.hbs":49,"./templates/pads-template.hbs":51}],47:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../../config/AppConfig.coffee"),d=a("../../../../events/AppEvent.coffee"),f=a("../../../../supers/View.coffee"),g=a("./templates/pad-square-template.hbs"),e=function(a){function b(){return this.onSoundEnd=h(this.onSoundEnd,this),this.onInstrumentChange=h(this.onInstrumentChange,this),this.onTriggerChange=h(this.onTriggerChange,this),this.onDroppedChange=h(this.onDroppedChange,this),this.onDraggingChange=h(this.onDraggingChange,this),this.onRelease=h(this.onRelease,this),this.onPress=h(this.onPress,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.DRAG_TRIGGER_DELAY=600,b.prototype.className="pad-square",b.prototype.template=g,b.prototype.model=null,b.prototype.currentIcon=null,b.prototype.audioPlayback=null,b.prototype.events={touchstart:"onPress",touchend:"onRelease"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$border=this.$el.find(".border-dark"),this.$keycode=this.$el.find(".key-code"),this.$iconContainer=this.$el.find(".container-icon"),this.$icon=this.$iconContainer.find(".icon"),TweenMax.set(this.$border,{autoAlpha:0}),TweenMax.set(this.$keycode,{scale:.7}),this},b.prototype.remove=function(){return this.removeSoundAndClearPad(),b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.listenTo(this.model,d.CHANGE_TRIGGER,this.onTriggerChange),this.listenTo(this.model,d.CHANGE_DRAGGING,this.onDraggingChange),this.listenTo(this.model,d.CHANGE_DROPPED,this.onDroppedChange),this.listenTo(this.model,d.CHANGE_INSTRUMENT,this.onInstrumentChange)},b.prototype.updateInstrumentClass=function(){var a;return a=this.model.get("currentInstrument"),this.$el.parent().addClass(a.get("id"))},b.prototype.renderIcon=function(){var a;return this.$icon.hasClass(this.currentIcon)&&this.$icon.removeClass(this.currentIcon),a=this.model.get("currentInstrument"),null!==a?(this.currentIcon=a.get("icon"),this.$icon.addClass(this.currentIcon)):void 0},b.prototype.setSound=function(){var a,b;return b=this.model.get("currentInstrument"),null!==b?(a=b.get("src"),this.audioPlayback=createjs.Sound.createInstance(a),this.audioPlayback.volume=c.VOLUME_LEVELS.high,this.audioPlayback.addEventListener("complete",this.onSoundEnd)):void 0},b.prototype.playSound=function(){var a;return null!=(a=this.audioPlayback)&&a.play(),this.model.set("trigger",!1)},b.prototype.removeSoundAndClearPad=function(){var a,b,c;return null!==this.model.get("currentInstrument")?(this.audioPlayback=null,a=this.model.get("currentInstrument"),c=a.get("id"),b=a.get("icon"),this.$el.parent().removeAttr("data-instrument"),this.$el.parent().removeClass(c),this.$el.removeClass(c),this.$icon.removeClass(b),this.$icon.text(""),_.defer(function(b){return function(){return b.model.set({dragging:!1,dropped:!1}),a.set({dropped:!1,droppedEvent:null}),b.model.set("currentInstrument",null)}}(this))):void 0},b.prototype.onPress=function(){return this.model.set("trigger",!0),TweenMax.to(this.$el,.2,{backgroundColor:"#E41E2B",onComplete:function(a){return function(){return TweenMax.to(a.$el,.2,{backgroundColor:"#e5e5e5"})}}(this)})},b.prototype.onRelease=function(){return clearTimeout(this.dragTimeout),this.model.set("dragging",!1)},b.prototype.onDrag=function(){return this.model.set("dragging",!0)},b.prototype.onDrop=function(a){var b;return b=this.collection.findInstrumentModel(a),b.set("dropped",!0),this.model.set({dragging:!1,dropped:!0,currentInstrument:b})},b.prototype.onDraggingChange=function(a){var b,c,e,f;return c=a.changed.dragging,c===!0?(e=this.$el.parent().attr("data-instrument"),b=this.model.get("currentInstrument"),f=b.get("droppedEvent"),this.model.set("dropped",!1),b.set("dropped",!1),this.trigger(d.CHANGE_DRAGGING,{instrumentId:e,$padSquare:this.$el.parent(),originalDroppedEvent:f})):void 0},b.prototype.onDroppedChange=function(a){var b;return b=a.changed.dropped,b===!1?this.removeSoundAndClearPad():void 0},b.prototype.onTriggerChange=function(a){var b;return b=a.changed.trigger,b?this.playSound():void 0},b.prototype.onInstrumentChange=function(a){var b;return b=a.changed.currentInstrument,null!==b&&void 0!==b?(this.updateInstrumentClass(),this.renderIcon(),this.setSound()):void 0},b.prototype.onSoundEnd=function(){return this.model.set("trigger",!1)},b}(f),b.exports=e},{"../../../../config/AppConfig.coffee":11,"../../../../events/AppEvent.coffee":13,"../../../../supers/View.coffee":31,"./templates/pad-square-template.hbs":50}],48:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n\n	<div class="headline">\n		DRAG DRUM BELOW TO ASSIGN TO NEW PAD\n	</div>\n\n	',d=c.each.call(a,a.instrumentTable,{hash:{},inverse:p.noop,fn:p.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n\n\n\n\n\n"}function g(a,b){var d,e="";return e+="\n		<div class='container-kit'>\n			<div class='kit-type'>\n				<span>",(d=c.label)?d=d.call(a,{hash:{},data:b}):(d=a.label,d=typeof d===o?d.apply(a):d),(d||0===d)&&(e+=d),e+="</span>\n			</div>\n\n			",d=c.each.call(a,a.instruments,{hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n\n		</div>\n	"}function h(a,b){var d,e="";return e+="\n\n				<div class='instrument ",(d=c.icon)?d=d.call(a,{hash:{},data:b}):(d=a.icon,d=typeof d===o?d.apply(a):d),(d||0===d)&&(e+=d),e+=" ",d=c["if"].call(a,a.dropped,{hash:{},inverse:p.noop,fn:p.program(4,i,b),data:b}),(d||0===d)&&(e+=d),e+="' id=\"",(d=c.id)?d=d.call(a,{hash:{},data:b}):(d=a.id,d=typeof d===o?d.apply(a):d),(d||0===d)&&(e+=d),e+='">\n\n				</div>\n			'}function i(){return" hidden "}function j(a,b){var d,e="";return e+="\n\n	<div class=\"headline\">\n		DRAG DRUM BELOW TO ASSIGN TO NEW PAD\n	</div>\n\n	<div class='container-tabs'>\n		",d=c.each.call(a,a.instrumentTable,{hash:{},inverse:p.noop,fn:p.program(7,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n	</div>\n\n	",d=c.each.call(a,a.instrumentTable,{hash:{},inverse:p.noop,fn:p.program(9,l,b),data:b}),(d||0===d)&&(e+=d),e+="\n\n"}function k(a,b){var d,e="";return e+="\n			<div class='tab'>\n				<div class='kit-type'>\n					<span>",(d=c.label)?d=d.call(a,{hash:{},data:b}):(d=a.label,d=typeof d===o?d.apply(a):d),(d||0===d)&&(e+=d),e+="</span>\n				</div>\n			</div>\n		"}function l(a,b){var d,e="";return e+="\n		<div class='container-kit'>\n\n			",d=c.each.call(a,a.instruments,{hash:{},inverse:p.noop,fn:p.program(3,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n\n		</div>\n	"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n="",o="function",p=this;return n+="\n\n\n\n",m=c["if"].call(b,b.isDesktop,{hash:{},inverse:p.program(6,j,e),fn:p.program(1,f,e),data:e}),(m||0===m)&&(n+=m),n})},{handleify:6}],49:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){var a="";return a+="\n\n	<div class='wrapper'>\n		<div class='left-wrapper'>\n			<div class='left'>\n				<table class='container-pads'>\n\n				</table>\n			</div>\n		</div>\n		<div class='right'>\n			<div class='container-instruments'>\n\n			</div>\n		</div>\n	</div>\n\n\n\n\n"}function g(){return"\n\n	<div class='wrapper'>\n		<div class='left-wrapper'>\n			<div class='left'>\n				<table class='container-pads'>\n\n				</table>\n			</div>\n		</div>\n\n		<div class='right'>\n\n			<div class='top'>\n				<div class='container-play-pause'>\n					play pause\n				</div>\n			</div>\n\n			<div class='middle'>\n				<div class='container-instruments'>\n\n				</div>\n			</div>\n\n			<div class='bottom'>\n				<div class=\"btn-back btn\">&lt; Back</div>\n			</div>\n		</div>\n	</div>\n\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="\n\n\n",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i})},{handleify:6}],50:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n	<div class='pad-number'>\n		<span class='text'>\n			PAD ",(d=c.index)?d=d.call(a,{hash:{},data:b}):(d=a.index,d=typeof d===i?d.apply(a):d),(d||0===d)&&(e+=d),e+="\n		</span>\n	</div>\n\n	<div class='key-code'>\n		<span class='text'>\n			",(d=c.keycode)?d=d.call(a,{hash:{},data:b}):(d=a.keycode,d=typeof d===i?d.apply(a):d),(d||0===d)&&(e+=d),e+="\n		</span>\n	</div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this;return h+="<div class='border-dark' />\n\n",g=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\n\n<div class='container-icon'>\n	<div class='icon'>\n\n	</div>\n</div>"})},{handleify:6}],51:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n	<tr>\n		",d=c.each.call(a,a.tds,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n	</tr>\n"}function g(a,b){var d,e="";return e+="\n			<td class='container-pad' id=\"",(d=c.id)?d=d.call(a,{hash:{},data:b}):(d=a.id,d=typeof d===k?d.apply(a):d),(d||0===d)&&(e+=d),e+='">\n\n			</td>\n		'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this;return i=c.each.call(b,(h=b.padTable,null==h||h===!1?h:h.rows),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+="\n"})},{handleify:6}],52:[function(a,b){var c,d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=a("../../../../utils/PubSub"),c=a("../../../../config/AppConfig.coffee"),f=a("../../../../events/PubEvent.coffee"),d=a("../../../../events/AppEvent.coffee"),h=a("../../../../supers/View.coffee"),i=a("./templates/pattern-square-template.hbs"),e=function(a){function b(){return this.onSoundEnd=j(this.onSoundEnd,this),this.onTriggerChange=j(this.onTriggerChange,this),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.className="pattern-square",b.prototype.tagName="td",b.prototype.template=i,b.prototype.audioPlayback=null,b.prototype.patternSquareModel=null,b.prototype.events={mouseover:"onMouseOver",mouseout:"onMouseOut",touchend:"onClick"},b.prototype.render=function(a){var c;
return b.__super__.render.call(this,a),this.$border=this.$el.find(".border-dark"),this.$icon=this.$el.find(".icon"),TweenMax.set(this.$border,{autoAlpha:0}),TweenMax.set(this.$icon,{autoAlpha:0,scale:0}),c="",this.patternSquareModel.get("instrument")&&(this.audioSrc=c=this.patternSquareModel.get("instrument").get("src")),this.audioPlayback=createjs.Sound.createInstance(c),this.audioPlayback.addEventListener("complete",this.onSoundEnd),this},b.prototype.remove=function(){return this.audioPlayback=null,b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.listenTo(this.patternSquareModel,d.CHANGE_VELOCITY,this.onVelocityChange),this.listenTo(this.patternSquareModel,d.CHANGE_ACTIVE,this.onActiveChange),this.listenTo(this.patternSquareModel,d.CHANGE_TRIGGER,this.onTriggerChange)},b.prototype.enable=function(){return this.patternSquareModel.enable()},b.prototype.disable=function(){return this.patternSquareModel.disable()},b.prototype.play=function(){return this.audioPlayback.play(),this.isMobile||this.trigger(f.BEAT,{patternSquareModel:this.patternSquareModel.toJSON()}),TweenMax.to(this.$icon,.3,{scale:1.2,ease:Back.easeOut,onComplete:function(a){return function(){return TweenMax.to(a.$icon,.3,{scale:1,ease:Back.easeOut})}}(this)}),TweenMax.to(this.$el,.2,{backgroundColor:"#E41E2B",onComplete:function(a){return function(){return TweenMax.to(a.$el,.2,{backgroundColor:"#E5E5E5"})}}(this)})},b.prototype.onMouseOver=function(){return TweenMax.to(this.$border,.2,{autoAlpha:.5})},b.prototype.onMouseOut=function(){return TweenMax.to(this.$border,.2,{autoAlpha:0})},b.prototype.onClick=function(){return this.patternSquareModel.cycle()},b.prototype.onVelocityChange=function(a){var b,d,e,f,g,h;return d=function(a){return function(){return a.$icon.removeClass("velocity-soft velocity-medium velocity-hard play")}}(this),b=function(a){return function(){return a.$icon.addClass(g)}}(this),f=a.changed.velocity,g=function(){switch(f){case 1:return"velocity-soft play";case 2:return"velocity-medium play";case 3:return"velocity-hard play";default:return""}}(),""!==g?(d(),"velocity-soft play"===g&&TweenMax.set(this.$icon,{autoAlpha:0,scale:0}),e=function(){switch(f){case 1:return 90;case 2:return 180;case 3:return 270;default:return 0}}(),TweenMax.to(this.$icon,.2,{autoAlpha:1,scale:1,rotation:e,ease:Expo.easeOut}),b()):TweenMax.to(this.$icon,.2,{scale:0,ease:Back.easeIn,onComplete:function(a){return function(){return TweenMax.set(a.$icon,{rotation:0}),d()}}(this)}),this.onMouseOut(),h=function(){switch(f){case 1:return c.VOLUME_LEVELS.low;case 2:return c.VOLUME_LEVELS.medium;case 3:return c.VOLUME_LEVELS.high;default:return""}}(),this.audioPlayback.volume=h},b.prototype.onActiveChange=function(){},b.prototype.onTriggerChange=function(a){return a.changed.trigger===!0?this.play():void 0},b.prototype.onSoundEnd=function(){return this.patternSquareModel.set("trigger",!1)},b}(h),b.exports=e},{"../../../../config/AppConfig.coffee":11,"../../../../events/AppEvent.coffee":13,"../../../../events/PubEvent.coffee":14,"../../../../supers/View.coffee":31,"../../../../utils/PubSub":33,"./templates/pattern-square-template.hbs":55}],53:[function(a,b){var c,d,e,f,g,h,i,j,k=function(a,b){return function(){return a.apply(b,arguments)}},l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../../events/AppEvent.coffee"),h=a("../../../../events/PubEvent.coffee"),e=a("../../../../models/sequencer/PatternSquareCollection.coffee"),f=a("../../../../models/sequencer/PatternSquareModel.coffee"),d=a("./PatternSquare.coffee"),i=a("../../../../supers/View.coffee"),j=a("./templates/pattern-track-template.hbs"),g=function(a){function b(){return this.onMuteBtnClick=k(this.onMuteBtnClick,this),this.onInstrumentBtnClick=k(this.onInstrumentBtnClick,this),this.onInstrumentChange=k(this.onInstrumentChange,this),this.onBeat=k(this.onBeat,this),this.addEventListeners=k(this.addEventListeners,this),b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype.className="pattern-track",b.prototype.tagName="tr",b.prototype.template=j,b.prototype.patternSquareViews=null,b.prototype.collection=null,b.prototype.model=null,b.prototype.events={"touchend .instrument":"onInstrumentBtnClick","touchend .btn-mute":"onMuteBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$instrument=this.$el.find(".instrument"),this.$mute=this.$el.find(".btn-mute"),this.$mute.hide(),this.renderPatternSquares(),this},b.prototype.remove=function(){return _.each(this.patternSquareViews,function(){return function(a){return a.remove()}}(this)),b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.kitModel=this.appModel.get("kitModel"),this.listenTo(this.model,c.CHANGE_FOCUS,this.onFocusChange),this.listenTo(this.kitModel,c.CHANGE_INSTRUMENT,this.onInstrumentChange)},b.prototype.renderPatternSquares=function(){return this.patternSquareViews=[],this.collection=new e,_(8).times(function(a){return function(){return a.collection.add(new f({instrument:a.model}))}}(this)),this.collection.each(function(a){return function(b){var c;return b.set("orderIndex",a.orderIndex),c=new d({patternSquareModel:b}),a.$instrument.text(b.get("label")),a.$el.append(c.render().el),a.patternSquareViews.push(c),a.listenTo(c,h.BEAT,a.onBeat)}}(this)),this.model.set("patternSquares",this.collection)},b.prototype.select=function(){return this.$el.addClass("selected")},b.prototype.deselect=function(){return this.$el.hasClass("selected")?this.$el.removeClass("selected"):void 0},b.prototype.onBeat=function(a){return this.trigger(h.BEAT,a)},b.prototype.onInstrumentChange=function(a){var b;return b=a.changed.currentInstrument,b.cid===this.model.cid?this.select():this.deselect()},b.prototype.onInstrumentBtnClick=function(){return this.model.get("mute")===!1&&this.model.get("focus")===!1?this.model.set({mute:!0,focus:!1}):this.model.get("mute")?this.model.set({mute:!1,focus:!1}):void 0},b.prototype.onFocusChange=function(a){var b;return b=a.changed.focus,b?this.$instrument.addClass("focus"):this.$instrument.removeClass("focus")},b.prototype.onMuteBtnClick=function(){return this.model.set("mute",!this.model.get("mute"))},b}(i),b.exports=g},{"../../../../events/AppEvent.coffee":13,"../../../../events/PubEvent.coffee":14,"../../../../models/sequencer/PatternSquareCollection.coffee":26,"../../../../models/sequencer/PatternSquareModel.coffee":27,"../../../../supers/View.coffee":31,"./PatternSquare.coffee":52,"./templates/pattern-track-template.hbs":56}],54:[function(a,b){var c,d,e,f,g,h,i,j,k=function(a,b){return function(){return a.apply(b,arguments)}},l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./PatternTrack.coffee"),f=a("../../../../utils/PubSub"),c=a("../../../../events/AppEvent.coffee"),e=a("../../../../events/PubEvent.coffee"),h=a("../../../../supers/View.coffee"),i=a("../../../../helpers/handlebars-helpers"),j=a("./templates/sequencer-template.hbs"),g=function(a){function b(){return this.onMuteChange=k(this.onMuteChange,this),this.onFocusChange=k(this.onFocusChange,this),this.importTrack=k(this.importTrack,this),this.onKitChange=k(this.onKitChange,this),this.onInstrumentChange=k(this.onInstrumentChange,this),this.onMuteChange=k(this.onMuteChange,this),this.onPlayingChange=k(this.onPlayingChange,this),this.onBPMChange=k(this.onBPMChange,this),this.onBeat=k(this.onBeat,this),this.updateTime=k(this.updateTime,this),this.renderTracks=k(this.renderTracks,this),b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype.id="container-sequencer",b.prototype.template=j,b.prototype.patternTrackViews=null,b.prototype.bpmInterval=null,b.prototype.updateIntervalTime=200,b.prototype.currBeatCellId=-1,b.prototype.numCells=7,b.prototype.appModel=null,b.prototype.collection=null,b.prototype.kitCollection=null,b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$thStepper=this.$el.find("th.stepper"),this.$sequencer=this.$el.find(".sequencer"),$(this.$thStepper[0]).addClass("step"),this.renderTracks(),this.play(),this},b.prototype.remove=function(){return console.log("firing remove SEQUENCER"),_.each(this.patternTrackViews,function(){return function(a){return a.remove()}}(this)),window.clearInterval(this.bpmInterval),b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,c.CHANGE_BPM,this.onBPMChange),this.listenTo(this.appModel,c.CHANGE_PLAYING,this.onPlayingChange),this.listenTo(this.appModel,c.CHANGE_KIT,this.onKitChange),this.listenTo(this.appModel.get("kitModel"),c.CHANGE_INSTRUMENT,this.onInstrumentChange),this.listenTo(this.collection,c.CHANGE_FOCUS,this.onFocusChange),this.listenTo(this.collection,c.CHANGE_MUTE,this.onMuteChange),f.on(c.IMPORT_TRACK,this.importTrack)},b.prototype.removeEventListeners=function(){return f.off(c.IMPORT_TRACK),f.off(c.EXPORT_TRACK),b.__super__.removeEventListeners.call(this)},b.prototype.renderTracks=function(){return this.$el.find(".pattern-track").remove(),this.patternTrackViews=[],this.collection.each(function(a){return function(b,c){var f;return f=new d({appModel:a.appModel,collection:b.get("patternSquares"),model:b,orderIndex:c}),a.patternTrackViews.push(f),a.$sequencer.append(f.render().el),a.listenTo(f,e.BEAT,a.onBeat)}}(this))},b.prototype.updateTime=function(){return this.$thStepper.removeClass("step"),this.$sequencer.find("td").removeClass("step"),this.currBeatCellId=this.currBeatCellId<this.numCells?this.currBeatCellId+=1:this.currBeatCellId=0,$(this.$thStepper[this.currBeatCellId]).addClass("step"),this.playAudio()},b.prototype.convertBPM=function(){return 200},b.prototype.play=function(){return this.appModel.set("playing",!0)},b.prototype.pause=function(){return this.appModel.set("playing",!1)},b.prototype.mute=function(){return this.appModel.set("mute",!0)},b.prototype.unmute=function(){return this.appModel.set("mute",!1)},b.prototype.playAudio=function(){var a;return a=this.collection.findWhere({focus:!0}),a?void(a.get("mute")!==!0&&a.get("patternSquares").each(function(a){return function(b,c){return a.playPatternSquareAudio(b,c)}}(this))):this.collection.each(function(a){return function(b){return b.get("mute")!==!0?b.get("patternSquares").each(function(b,c){return a.playPatternSquareAudio(b,c)}):void 0}}(this))},b.prototype.playPatternSquareAudio=function(a,b){return this.currBeatCellId===b&&a.get("active")?a.set("trigger",!0):void 0},b.prototype.onBeat=function(a){return this.trigger(e.BEAT,a)},b.prototype.onBPMChange=function(a){return window.clearInterval(this.bpmInterval),this.updateIntervalTime=a.changed.bpm,this.appModel.get("playing")?this.bpmInterval=window.setInterval(this.updateTime,this.updateIntervalTime):void 0},b.prototype.onPlayingChange=function(a){var b;return b=a.changed.playing,b?this.bpmInterval=window.setInterval(this.updateTime,this.updateIntervalTime):(console.log("clearing interval...."),window.clearInterval(this.bpmInterval),this.bpmInterval=null)},b.prototype.onMuteChange=function(){},b.prototype.onInstrumentChange=function(a){var b,c,d;return d=a.changed.currentInstrument,c=d.get("icon"),b=this.$el.find(".pattern-track"),b.each(function(){var a;return a=$(this),a.find(".instrument").hasClass(c)?(a.show(),TweenMax.fromTo(a,.6,{y:100},{immediateRender:!0,y:0,ease:Expo.easeInOut})):a.hide()})},b.prototype.onKitChange=function(a){var b,c;return this.removeEventListeners(),this.collection=a.changed.kitModel.get("instruments"),this.renderTracks(),b=a._previousAttributes.kitModel.get("instruments"),c=b.exportPatternSquares(),this.collection.each(function(a,d){var e,f,g;return f=c[d],e=a.get("patternSquares"),g=b.at(d),void 0!==g&&(g=g.toJSON(),a.set({volume:g.volume,active:g.active,mute:null,focus:null}),a.set({mute:g.mute,focus:g.focus})),void 0!==f?e.each(function(a,b){var c;return c=f.at(b),c=c.toJSON(),c.trigger=!1,a.set(c)}):void 0}),this.addEventListeners()},b.prototype.importTrack=function(a){var b,c,d,e;return b=a.callback,e=a.patternSquareGroups,c=a.instruments,d=a.kitType,this.appModel.set("kitModel",this.kitCollection.findWhere({label:d})),this.renderTracks(),_.each(this.patternTrackViews,function(a,b){var d;return d=a.model,d.set({mute:null,focus:null}),d.set({mute:c[b].mute,focus:c[b].focus}),a.collection.each(function(a,c){var d;return d=e[b][c],d.trigger=!1,a.set(d)})}),b?b():void 0},b.prototype.onFocusChange=function(a){var b,c;return b=a.changed.focus,c=this.collection.indexOf(a),this.collection.each(function(){return function(b){return a.changed.focus===!0&&a.cid!==b.cid?b.set("focus",!1,{trigger:!1}):void 0}}(this)),this.collection.each(function(c){return function(d,e){var f;return f=c.patternTrackViews[e],a!==d?b===!0?f.$el.addClass("defocused"):f.$el.removeClass("defocused"):b===!0?f.$el.removeClass("defocused"):void 0}}(this))},b.prototype.onMuteChange=function(a){var b;return b=this.collection.indexOf(a),this.collection.each(function(c){return function(d,e){var f;return f=c.patternTrackViews[e],b===e?a.changed.mute===!0?f.$el.addClass("mute"):f.$el.removeClass("mute"):void 0}}(this))},b}(h),b.exports=g},{"../../../../events/AppEvent.coffee":13,"../../../../events/PubEvent.coffee":14,"../../../../helpers/handlebars-helpers":15,"../../../../supers/View.coffee":31,"../../../../utils/PubSub":33,"./PatternTrack.coffee":53,"./templates/sequencer-template.hbs":57}],55:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<div class='inner-container'>\n	<div class='border-dark' />\n\n	<div class='icon'>\n\n	</div>\n</div>"})},{handleify:6}],56:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+="<td class='instrument ",(f=c.icon)?f=f.call(b,{hash:{},data:e}):(f=b.icon,f=typeof f===h?f.apply(b):f),g+=i(f)+"' />\n<td class='btn-mute'>\n	mute\n</td>\n"})},{handleify:6}],57:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){var a="";return a+="\n				\n				<th></th>\n			"}function g(){return"\n				<th class='stepper'></th>\n			"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l=this,m=c.helperMissing;return k+="\n<div class='wrapper'>\n	<table class='sequencer'>\n		<tr>\n\n			",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(k+=h),k+="\n\n\n			\n			<th style='display:none'></th>\n\n			",j={hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e},h=c.repeat||b.repeat,i=h?h.call(b,8,j):m.call(b,"repeat",8,j),(i||0===i)&&(k+=i),k+="\n		</tr>\n	</table>\n</div>"})},{handleify:6}],58:[function(a,b){var c,d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("../../../../config/AppConfig.coffee"),d=a("../../../../events/AppEvent.coffee"),g=a("../../../../supers/View.coffee"),f=a("../../../../utils/SpinIcon"),h=a("./templates/share-preview-template.hbs"),i=a("./templates/share-modal-template.hbs"),e=function(a){function b(){return this.createClipboardListeners=j(this.createClipboardListeners,this),this.renderServiceOptions=j(this.renderServiceOptions,this),this.showForm=j(this.showForm,this),this.onWrapperClick=j(this.onWrapperClick,this),this.onCopyBtnClick=j(this.onCopyBtnClick,this),this.onCloseBtnClick=j(this.onCloseBtnClick,this),this.onBackBtnClick=j(this.onBackBtnClick,this),this.onSelectYourServiceBtnClick=j(this.onSelectYourServiceBtnClick,this),this.onShareIdChange=j(this.onShareIdChange,this),this.onInputBlur=j(this.onInputBlur,this),this.onInputKeyPress=j(this.onInputKeyPress,this),this.onLinkBtnClick=j(this.onLinkBtnClick,this),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.FORM_TWEEN_TIME=.3,b.prototype.className="container-share",b.prototype.template=i,b.prototype.sharedTrackModel=null,b.prototype.events={"click .btn-link":"onLinkBtnClick","click .btn-select-service":"onSelectYourServiceBtnClick","touchend .btn-close":"onCloseBtnClick",click:"onCloseBtnClick","click .wrapper":"onWrapperClick","keypress .input-message":"onInputKeyPress","blur .input-name":"onInputBlur","blur .input-title":"onInputBlur","blur .input-message":"onInputBlur","touchend .btn-close-share":"onCloseBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$wrapper=this.$el.find(".wrapper"),this.$form=this.$el.find(".container-form"),this.$preview=this.$el.find(".container-preview"),this.$closeBtn=this.$el.find(".btn-close"),this.$nameInput=this.$el.find(".input-name"),this.$titleInput=this.$el.find(".input-title"),this.$messageInput=this.$el.find(".input-message"),this.$preloader=this.$el.find(".preloader"),this.$serviceBtn=this.$el.find(".btn-select-service"),this.$serviceText=this.$serviceBtn.find(".text"),this.spinner=new f({target:this.$preloader[0]}),this.spinner.$el.css("margin","auto"),this.spinner.show(),this.$preloader.hide(),TweenMax.set(this.$el,{autoAlpha:0}),TweenMax.set(this.$preview,{autoAlpha:0}),TweenMax.set(this.$preloader,{autoAlpha:0,scale:0}),TweenMax.set(this.$closeBtn,{autoAlpha:0,scaleX:1.7}),this.isMobile&&(TweenMax.set(this.$preloader,{autoAlpha:1,scale:0,y:-12}),_.each([this.$nameInput,this.$titleInput,this.$messageInput],function(a){return a.attr("placeholder","")})),this},b.prototype.remove=function(){var a,c;return null!=(a=this.$backBtn)&&a.off("touchend",this.onBackBtnClick),null!=(c=this.$copyBtn)&&c.off("touchend",this.onCopyBtnClick),b.__super__.remove.call(this)},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,d.CHANGE_SHARE_ID,this.onShareIdChange)},b.prototype.show=function(){return this.isMobile?TweenMax.fromTo(this.$el,.6,{y:window.innerHeight},{y:0,autoAlpha:1,ease:Expo.easeInOut,onComplete:function(a){return function(){return TweenMax.to(a.$closeBtn,.3,{autoAlpha:1,ease:Linear.easeNone})}}(this)}):TweenMax.fromTo(this.$el,this.FORM_TWEEN_TIME+.1,{y:2e3},{y:0,autoAlpha:1,ease:Expo.easeOut,onComplete:function(a){return function(){return TweenMax.to(a.$closeBtn,.3,{autoAlpha:1,ease:Linear.easeNone})}}(this)})},b.prototype.hide=function(){return this.trigger(d.CLOSE_SHARE),this.isMobile?TweenMax.to(this.$el,.6,{y:window.innerHeight,autoAlpha:0,ease:Expo.easeInOut,onComplete:function(a){return function(){return a.remove()}}(this)}):(TweenMax.to(this.$closeBtn,.2,{autoAlpha:0}),TweenMax.to(this.$el,this.FORM_TWEEN_TIME+.1,{y:2e3,autoAlpha:0,ease:Expo.easeIn,delay:.1,onComplete:function(a){return function(){return a.remove()}}(this)}))},b.prototype.onLinkBtnClick=function(){return console.log("link btn")},b.prototype.onInputKeyPress=function(a){var b;return b=a.which||a.keyCode,13===b?(a.preventDefault(),document.activeElement.blur(),this.onInputBlur()):void 0},b.prototype.onInputBlur=function(){return TweenMax.to($("body"),0,{scrollTop:0,scrollLeft:0})},b.prototype.onShareIdChange=function(a){var b;return b=a.changed.shareId,"error"===b?"Error saving track":null!==b?TweenMax.to(this.$preloader,.2,{autoAlpha:0,scale:0,ease:Back.easeIn,onComplete:function(a){return function(){return a.$serviceBtn.removeClass("no-transition"),a.$serviceBtn.attr("style",""),TweenMax.to(a.$serviceText,.2,{autoAlpha:1}),a.renderServiceOptions()}}(this)}):void 0},b.prototype.onSelectYourServiceBtnClick=function(){return this.formValid()!==!1?(this.$preloader.show(),this.$serviceBtn.addClass("no-transition"),TweenMax.to(this.$serviceBtn,.2,{backgroundColor:"black"}),TweenMax.to(this.$serviceText,.2,{autoAlpha:0}),TweenMax.to(this.$preloader,.2,{autoAlpha:1,scale:this.isMobile?.7:1,ease:Back.easeOut,delay:.1}),this.sharedTrackModel.set({shareName:this.$nameInput.val(),shareTitle:this.$titleInput.val(),shareMessage:this.$messageInput.val()}),this.trigger(d.SAVE_TRACK)):void 0},b.prototype.onBackBtnClick=function(){return this.showForm()},b.prototype.onCloseBtnClick=function(){return this.hide()},b.prototype.onCopyBtnClick=function(){var a,b,c,d,e;return this.tweeningCopyText?void 0:(this.tweeningCopyText=!0,a=this.$copyBtn,b=a.find(".text"),c=a.html(),e=.2,d=1,TweenMax.fromTo(b,e,{autoAlpha:1},{autoAlpha:0,onComplete:function(a){return function(){return b.html("COPIED!"),TweenMax.fromTo(b,e,{autoAlpha:0},{autoAlpha:1,delay:.1,onComplete:function(){return TweenMax.fromTo(b,e,{autoAlpha:1},{autoAlpha:0,delay:d,onComplete:function(){return a.tweeningCopyText=!1,b.html(c),b.attr("style",""),TweenMax.fromTo(b,e,{autoAlpha:0},{autoAlpha:1,delay:.1})}})}})}}(this)}))},b.prototype.onWrapperClick=function(a){var b;return b=$(a.target),b.hasClass("icon")&&b.trigger("click"),a.stopImmediatePropagation(),!1},b.prototype.formValid=function(){return""===this.$titleInput.val()?(this.$titleInput.attr("placeholder","Please enter title"),!1):""===this.$nameInput.val()?(this.$nameInput.attr("placeholder","Please enter name"),!1):""===this.$messageInput.val()?(this.$messageInput.attr("placeholder","Please enter message"),!1):!0},b.prototype.showPreview=function(){return TweenMax.to(this.$form,this.FORM_TWEEN_TIME,{autoAlpha:0,x:-300,ease:Expo.easeIn,onComplete:function(a){return function(){var b;return a.$form.hide(),b=a.sharedTrackModel.toJSON(),b.isDesktop=!a.isMobile,a.$preview.html(h(b)),a.$backBtn=a.$preview.find(".btn-back"),a.$copyBtn=a.$preview.find(".btn-copy-url"),TweenMax.fromTo(a.$preview,.4,{autoAlpha:0,x:300},{autoAlpha:1,x:0,ease:Expo.easeOut}),a.createClipboardListeners(),a.$backBtn.on("touchend",a.onBackBtnClick),a.$copyBtn.on("touchend",a.onCopyBtnClick)}}(this)})},b.prototype.showForm=function(){return this.$backBtn.off("touchend",this.onBackBtnClick),this.$copyBtn.off("touchend",this.onCopyBtnClick),TweenMax.to(this.$preview,this.FORM_TWEEN_TIME,{autoAlpha:0,x:300,ease:Expo.easeIn,onComplete:function(a){return function(){return a.$form.show(),TweenMax.fromTo(a.$form,.4,{autoAlpha:0,x:-300},{autoAlpha:1,x:0,ease:Expo.easeOut})}}(this)})},b.prototype.renderServiceOptions=function(){var a;return a=window.location.origin+"/#share/"+this.appModel.get("shareId"),this.sharedTrackModel.set({shareLink:a,encodedUrl:encodeURIComponent(a)}),this.showPreview(),this.appModel.set("shareId",null),_.delay(function(){return function(){return console.log($(document).find("[data-share-facebook]")),Share.init()}}(this),500)},b.prototype.createClipboardListeners=function(){return this.clipboardClient=new ZeroClipboard(this.$copyBtn),this.clipboardClient.on("load",function(){}),this.clipboardClient.on("datarequested",function(){return this.clipboardClient.setText(this.innerHTML)}),this.clipboardClient.on("complete",function(a,b){return console.log("Copied text to clipboard: "+b.text)}),this.clipboardClient.on("wrongflash noflash",function(){return ZeroClipboard.destroy()}),this.clipboardClient.on("mouseover",function(a){return function(){return a.$copyBtn.addClass("mouseover")}}(this)),this.clipboardClient.on("mouseout",function(a){return function(){return a.$copyBtn.removeClass("mouseover")}}(this)),this.clipboardClient.on("mouseup",function(a){return function(){return a.onCopyBtnClick()}}(this))},b}(g),b.exports=e},{"../../../../config/AppConfig.coffee":11,"../../../../events/AppEvent.coffee":13,"../../../../supers/View.coffee":31,"../../../../utils/SpinIcon":34,"./templates/share-modal-template.hbs":59,"./templates/share-preview-template.hbs":60}],59:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){return"\n		<div class='btn-close'>\n			X\n		</div>\n	"}function g(){return"\n			<div class='btn-close-share'>\n				&lt; Back\n			</div>\n		"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="<div class='wrapper'>\n\n	",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n\n	<div class='form-wrapper'>\n\n		",h=c.unless.call(b,b.isDesktop,{hash:{},inverse:j.noop,fn:j.program(3,g,e),data:e}),(h||0===h)&&(i+=h),i+="\n\n		<h1>\n			Share Your Beat\n		</h1>\n\n		<div class='container-form'>\n			<div class='input-group text-input t'>\n				<span class='label-input'>Title</span>\n				<input class='input-title' placeholder='title' />\n			</div>\n\n			<div class='input-group text-input n'>\n				<span class='label-input'>Name</span>\n				<input class='input-name' placeholder='name' />\n			</div>\n\n			<div class='input-group textarea'>\n				<span class='label-input'>Message</span>\n				<textarea class='input-message' placeholder='MESSAGE' />\n\n				</textarea>\n			</div>\n\n			<div class='btn-select-service'>\n				<div class='text'>\n					Select Your Service\n				</div>\n\n				<div class='preloader' />\n			</div>\n		</div>\n\n		<div class='container-preview'>\n\n		</div>\n\n	</div>\n\n</div>"})},{handleify:6}],60:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n	<div class='btn-copy-url' data-clipboard-text='",(d=c.shareLink)?d=d.call(a,{hash:{},data:b}):(d=a.shareLink,d=typeof d===i?d.apply(a):d),(d||0===d)&&(e+=d),e+="'>\n		<div class='text'>\n			<div class='url'>\n				http://bit.ly/1c1HY4c\n			</div>\n			<div class='copy'>\n				COPY\n			</div>\n		</div>\n	</div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this;return h+="\n<div class='btn-back'>\n	&lt; BACK TO EDIT FIELDS\n</div>\n<div class='track-data'>\n	<h1>\n		",(g=c.shareName)?g=g.call(b,{hash:{},data:e}):(g=b.shareName,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+="\n	</h1>\n	<h3>\n		",(g=c.shareTitle)?g=g.call(b,{hash:{},data:e}):(g=b.shareTitle,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+="\n	</h3>\n	<p>\n		",(g=c.shareMessage)?g=g.call(b,{hash:{},data:e}):(g=b.shareMessage,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+="\n	</p>\n</div>\n\n\n\n\n<div class='services'>\n	<span>\n		Select a Service\n	</span>\n\n	<div class='service-btns'>\n		<div class='btn-facebook icon-facebook icon'\n			data-share-facebook\n			data-share-description=\"",(g=c.shareMessage)?g=g.call(b,{hash:{},data:e}):(g=b.shareMessage,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='"\n			data-share-link="',(g=c.encodedUrl)?g=g.call(b,{hash:{},data:e}):(g=b.encodedUrl,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='"\n			data-share-name="',(g=c.shareTitle)?g=g.call(b,{hash:{},data:e}):(g=b.shareTitle,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='"\n			data-share-caption="Caption">\n		</div>\n		<div class=\'btn-twitter icon-twitter icon\'\n			data-share-twitter\n			data-share-description="',(g=c.shareMessage)?g=g.call(b,{hash:{},data:e}):(g=b.shareMessage,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+='"\n			data-share-link="',(g=c.encodedUrl)?g=g.call(b,{hash:{},data:e}):(g=b.encodedUrl,g=typeof g===i?g.apply(b):g),(g||0===g)&&(h+=g),h+="\">\n		</div>\n		<div class='btn-tumblr icon-tumblr icon'>\n\n		</div>\n	</div>\n</div>\n\n",g=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h})},{handleify:6}],61:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){var a="";return a+="\n\n		<div class='bg-circle' />\n\n		<div class='btn-increase btn-circle'>\n			+\n		</div>\n\n		<div class='label-bpm'>\n			BPM\n		</div>\n\n		<div class='bpm-value'>\n			0\n		</div>\n\n		<div class='btn-decrease btn-circle'>\n			-\n		</div>\n\n\n\n\n	\n\n	"}function g(){return"\n		<div class='label-bpm'>\n			BPM\n		</div>\n\n		<div class='btn-decrease'>\n			-\n		</div>\n\n		<div class='bpm-value'>\n			0\n		</div>\n\n		<div class='btn-increase'>\n			+\n		</div>\n\n	"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="\n\n\n<div class='wrapper'>\n\n\n	\n\n	",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n\n</div>"})},{handleify:6}],62:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){var a="";return a+="\n\n	<div class='wrapper'>\n\n		<div class='bg-half-circle' />\n\n		<div class='label-select'>\n			Select Kit\n		</div>\n\n		<div class='btn-left'>\n			&lt;\n		</div>\n		<div class='label-kit'>\n			<div>\n				DRUM KIT\n			</div>\n		</div>\n\n		<div class='btn-right'>\n			&gt;\n		</div>\n	</div>\n\n\n\n\n\n"}function g(){return"\n\n	<div class='wrapper'>\n		<div class='btn-left'>\n			&lt;\n		</div>\n		<div class='label-kit'>\n			<div>\n				DRUM KIT\n			</div>\n		</div>\n\n		<div class='btn-right'>\n			&gt;\n		</div>\n	</div>\n\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="\n\n\n\n",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i})},{handleify:6}],63:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<div class='wrapper'>\n	<div class=\"label\">\n		PATTERNS\n	</div>\n	<div class='container-btns'>\n		<div class='btn-pattern-1 btn'>1</div>\n		<div class='btn-pattern-1 btn'>2</div>\n		<div class='btn-pattern-1 btn'>3</div>\n		<div class='btn-pattern-1 btn'>4</div>\n	</div>\n</div>"})},{handleify:6}],64:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){return"\n	<div class='btn-play icon-play'></div>\n	<div class='btn-pause icon-pause'></div>\n\n"}function g(){return"\n\n	<div class='btn-play icon-play'></div>\n	<div class='btn-pause icon-pause'></div>\n	<div class='label-btn'>\n		PAUSE\n	</div>\n\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="\n",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i})},{handleify:6}],65:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<div class='btn-steps'>\n	STEPS\n</div>\n\n<div class='btn-pads'>\n	PAD\n</div>\n"})},{handleify:6}],66:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){var a="";return a+="\n\n	<div class='wrapper'>\n\n		<div class='container-sequencer'>\n\n			<div class='column-0'>\n				<div class='container-toggle'></div>\n				<div class='btn-clear'>CLEAR SEQUENCER</div>\n				<div class='container-play-pause'></div>\n			</div>\n\n			<div class='column-1'>\n				<div class='sequencer'>\n\n					<div class='pattern-selector'>\n						Pattern Selector\n					</div>\n\n				</div>\n				<div class='live-pad'>LivePad</div>\n			</div>\n\n			<div class='column-3'>\n				<div class='bpm'>BPM</div>\n			</div>\n\n			<div class=\"column-4\">\n				<div class='btn-share'>\n					SHARE\n				</div>\n			</div>\n		</div>\n	</div>\n\n\n\n\n\n\n"}function g(){var a="";return a+="\n	<div class='wrapper'>\n\n		<div class='container-sequencer'>\n			\n			<div class='row-1'>\n				<div class='container-play-pause'></div>\n				<div class='btn-share'>\n					SHARE\n				</div>\n			</div>\n\n			\n			<div class='row-2'>\n\n			</div>\n\n			\n			<div class='row-3'>\n				<div class='btn-clear'>\n					CLEAR\n				</div>\n				<div class='btn-jam-live'>\n					JAM LIVE &gt;\n				</div>\n			</div>\n\n			\n			<div class='row-4'>\n\n			</div>\n		</div>\n\n		<div class='container-live-pad'>\n			LIVE PAD\n		</div>\n\n	</div>\n\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="\n\n\n\n",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i})},{handleify:6}],67:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)
}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("../../utils/PubSub"),d=a("../../events/PubEvent.coffee"),f=a("../../supers/View.coffee"),g=a("./templates/landing-template.hbs"),c=function(a){function b(){return this.onStartBtnClick=h(this.onStartBtnClick,this),this.onMouseOut=h(this.onMouseOut,this),this.onMouseOver=h(this.onMouseOver,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.SHOW_DELAY=1,b.prototype.className="container-landing",b.prototype.template=g,b.prototype.events={"mouseover .btn-start":"onMouseOver","mouseout  .btn-start":"onMouseOut","touchend  .btn-start":"onStartBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$logo=this.$el.find(".logo"),this.$message=this.$el.find(".message"),this.$startBtn=this.$el.find(".btn-start"),TweenMax.set($("#container-main"),{autoAlpha:0}),TweenMax.set(this.$el,{autoAlpha:0}),this},b.prototype.show=function(){var a;return a=this.SHOW_DELAY,TweenMax.to(this.$el,.3,{autoAlpha:1}),TweenMax.fromTo(this.$logo,.4,{x:-200,autoAlpha:0},{autoAlpha:1,x:0,ease:Expo.easeOut,delay:a}),TweenMax.fromTo(this.$message,.4,{x:200,autoAlpha:0},{autoAlpha:1,x:0,ease:Expo.easeOut,delay:a}),TweenMax.fromTo(this.$startBtn,.4,{y:200,autoAlpha:0},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:a+.2,onComplete:function(a){return function(){return TweenMax.to(a.$startBtn,.1,{scale:1.1,yoyo:!0,repeat:3})}}(this)})},b.prototype.hide=function(a){var b,c;return c=this,b=0,TweenMax.to(this.$el,.3,{autoAlpha:0,delay:.5}),TweenMax.to(this.$startBtn,.3,{autoAlpha:0,scale:0,ease:Back.easeIn,delay:b}),TweenMax.to(this.$logo,.4,{autoAlpha:0,x:-200,ease:Expo.easeIn,delay:b+.2}),TweenMax.to(this.$message,.4,{autoAlpha:0,x:200,ease:Expo.easeIn,delay:b+.2,onComplete:function(){return function(){return _.delay(function(){return e.trigger(d.ROUTE,{route:"create"}),(null!=a?a.remove:void 0)?c.remove():void 0},300)}}(this)})},b.prototype.onMouseOver=function(){return TweenMax.to(this.$startBtn,.2,{border:"3px solid black",scale:1.1,color:"black"})},b.prototype.onMouseOut=function(){return TweenMax.to(this.$startBtn,.2,{border:"3px solid #E41E2B",scale:1,color:"#E41E2B"})},b.prototype.onStartBtnClick=function(){var a;return this.isMobile&&(a=createjs.Sound.createInstance("assets/audio/coke/05___female_ahhh_01.mp3"),a.volume=.1,a.play()),TweenMax.set($("#container-main"),{autoAlpha:1}),this.hide()},b}(f),b.exports=c},{"../../events/PubEvent.coffee":14,"../../supers/View.coffee":31,"../../utils/PubSub":33,"./templates/landing-template.hbs":68}],68:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<div class='wrapper'>\n\n	<div class='logo' />\n\n	<div class='message'>\n		LOREM IPSUM DOLOR SIT AMET, CONSECTETUR ADIPSCING ELIT. IN A MATTIS QUAM.\n	</div>\n\n	<div class='btn-start'>\n		CREATE YOUR OWN JAM\n	</div>\n\n</div>"})},{handleify:6}],69:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../../supers/View.coffee"),e=a("./templates/not-supported-template.hbs"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.className="container-not-supported",b.prototype.template=e,b.prototype.events={"touchend .btn-listen":"onListenBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$notification=this.$el.find(".notification"),this.$samples=this.$el.find(".samples"),this},b.prototype.onListenBtnClick=function(){return TweenMax.to(this.$notification,.6,{autoAlpha:0,x:-window.innerWidth,ease:Expo.easeInOut}),TweenMax.fromTo(this.$samples,.6,{x:window.innerWidth,autoAlpha:0},{display:"block",autoAlpha:1,x:0,ease:Expo.easeInOut})},b}(d),b.exports=c},{"../../supers/View.coffee":31,"./templates/not-supported-template.hbs":70}],70:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"\n<div class='wrapper'>\n	<div class='notification'>\n		<div class='headline'>\n			AHH BUMMER, <br/>\n			YOUR DEVICE IS NOT SUPPORTED.\n		</div>\n		<div class='requirements'>\n			MINIMUM REQUIREMENTS ANDROID 4.2 / iOS 6\n		</div>\n		<div class='desktop'>\n			PLEASE VISIT THIS SITE ON YOUR DESKTOP OR\n		</div>\n		<div class='btn-listen'>\n			LISTEN TO SAMPLE BEATS FROM THE MPC-AHH &gt;\n		</div>\n	</div>\n\n	<div class='samples'>\n		<div class='headline'>\n			LISTEN TO SAMPLE BEATS FROM THE MPC AHH\n		</div>\n\n		<table>\n			<tr>\n				<td class='right-bottom'>\n					<div class='btn-play icon-play'/>\n					<div class='label'>\n						HIP-HOP SAMPLE\n					</div>\n				</td>\n				<td class='bottom'>\n					<div class='btn-play icon-play'/>\n					<div class='label'>\n						ROCK SAMPLE\n					</div>\n				</td>\n			</tr>\n			<tr>\n				<td class='right'>\n					<div class='btn-play icon-play'/>\n					<div class='label'>\n						DANCE SAMPLE\n					</div>\n				</td>\n				<td>\n					<div class='btn-play icon-play'/>\n					<div class='label'>\n						COKE SAMPLE\n					</div>\n				</td>\n			</tr>\n		</table>\n\n	</div>\n</div>"})},{handleify:6}],71:[function(a,b){var c,d,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}},m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("../../utils/PubSub"),e=a("../../events/PubEvent.coffee"),i=a("../../models/SharedTrackModel.coffee"),c=a("../create/CreateView.coffee"),d=a("../create/components/PlayPauseBtn.coffee"),g=a("../create/components/sequencer/Sequencer.coffee"),j=a("../../supers/View.coffee"),k=a("./templates/share-template.hbs"),h=function(a){function b(){return this.onMouseOut=l(this.onMouseOut,this),this.onMouseOver=l(this.onMouseOver,this),this.onSharedTrackModelChange=l(this.onSharedTrackModelChange,this),this.importTrack=l(this.importTrack,this),b.__super__.constructor.apply(this,arguments)}return n(b,a),b.prototype.className="container-share",b.prototype.template=k,b.prototype.createView=null,b.prototype.events={"mouseover .btn-start":"onMouseOver","mouseout  .btn-start":"onMouseOut","touchend  .btn-start":"onStartBtnClick"},b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$textContainer=this.$el.find(".container-text"),this.$name=this.$el.find(".name"),this.$title=this.$el.find(".title"),this.$message=this.$el.find(".message"),this.$playBtn=this.$el.find(".btn-play"),this.$startBtn=this.$el.find(".btn-start"),TweenMax.set(this.$textContainer,{y:-300,autoAlpha:0}),TweenMax.set(this.$startBtn,{y:300,autoAlpha:0}),this.createView=new c({appModel:this.appModel,sharedTrackModel:this.sharedTrackModel,kitCollection:this.kitCollection}),this.isMobile&&(this.playPauseBtn=new d({appModel:this.appModel}),this.$el.find(".container-btn").append(this.playPauseBtn.render().el),this.playPauseBtn.$el.find(".label-btn").hide()),this.$el.append(this.createView.render().el),this.createView.$el.hide(),this.createView.kitSelector.remove(),this.importTrack(this.appModel.get("shareId")),this},b.prototype.show=function(){var a;return a=.5,this.isMobile?(this.$message.hide(),TweenMax.fromTo(this.$textContainer,.4,{y:-300,autoAlpha:0},{autoAlpha:1,y:10,ease:Expo.easeOut,delay:a+.3}),TweenMax.fromTo(this.$startBtn,.4,{y:1e3,autoAlpha:0},{autoAlpha:1,y:140,ease:Expo.easeOut,delay:a+.3})):(TweenMax.fromTo(this.$textContainer,.4,{y:-300,autoAlpha:0},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:a+.3}),TweenMax.fromTo(this.$startBtn,.4,{y:300,autoAlpha:0},{autoAlpha:1,y:-80,ease:Expo.easeOut,delay:a+.3}))},b.prototype.hide=function(a){return this.isMobile?TweenMax.to(this.$el,.4,{autoAlpha:0},{onComplete:function(b){return function(){return(null!=a?a.remove:void 0)?_.delay(function(){return b.remove()},300):void 0}}(this)}):(TweenMax.to(this.$startBtn,.3,{scale:0,autoAlpha:0,ease:Back.easeIn}),TweenMax.to(this.$el,.4,{autoAlpha:0},{onComplete:function(b){return function(){return(null!=a?a.remove:void 0)?_.delay(function(){return b.remove()},300):void 0}}(this)}))},b.prototype.addEventListeners=function(){return this.listenTo(this.appModel,"change:sharedTrackModel",this.onSharedTrackModelChange)},b.prototype.importTrack=function(a){var b;return b=new Parse.Query(i),b.get(a,{error:function(){return function(a,b){return console.error(a,b)}}(this),success:function(a){return function(b){return console.log(JSON.stringify(b.toJSON())),a.appModel.set({bpm:b.get("bpm"),sharedTrackModel:b,shareId:null}),console.log(b.get("kitType")),a.createView.sequencer.importTrack({kitType:b.get("kitType"),instruments:b.get("instruments"),patternSquareGroups:b.get("patternSquareGroups"),callback:function(){}})}}(this)})},b.prototype.onSharedTrackModelChange=function(a){var b;return b=a.changed.sharedTrackModel,null!==b?(this.$name.html(b.get("shareName")),this.$title.html(b.get("shareTitle")),this.$message.html(b.get("shareMessage")),TweenMax.set(this.$el,{autoAlpha:1}),this.appModel.set("playing",!0),this.show()):void 0},b.prototype.onStartBtnClick=function(){return this.removeEventListeners(),this.createView.remove(),$(".container-kit-selector").remove(),this.appModel.set({bpm:120,sharedTrackModel:null}),window.location.hash="create"},b.prototype.onMouseOver=function(){return TweenMax.to(this.$startBtn,.2,{border:"3px solid black",scale:1.1,color:"black"})},b.prototype.onMouseOut=function(){return TweenMax.to(this.$startBtn,.2,{border:"3px solid white",scale:1,color:"white"})},b}(j),b.exports=h},{"../../events/PubEvent.coffee":14,"../../models/SharedTrackModel.coffee":18,"../../supers/View.coffee":31,"../../utils/PubSub":33,"../create/CreateView.coffee":36,"../create/components/PlayPauseBtn.coffee":40,"../create/components/sequencer/Sequencer.coffee":54,"./templates/share-template.hbs":72}],72:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){return"\n\n			<div class='message'>\n\n			</div>\n		"}function g(){return"\n\n			<div class='container-btn'>\n\n			</div>\n\n		"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="<div class='wrapper'>\n\n	<div class='container-text'>\n		<div class='title'>\n\n		</div>\n\n		<div class='name'>\n\n		</div>\n\n		",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n\n	</div>\n\n	<div class='btn-start'>\n		CREATE YOUR OWN JAM\n	</div>\n\n</div>\n\n\n\n<div class='btn-play'>\n\n</div>"})},{handleify:6}],73:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(){var a="";return a+="\n\n	<div id='container-main'>\n		<div id='container-bottom'>\n\n		</div>\n	</div>\n\n\n\n\n\n"}function g(){return"\n\n	<div id='container-main'>\n		<div class='top-bar'>\n			<div id='logo' class='logo' />\n		</div>\n\n	</div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+="\n\n\n",h=c["if"].call(b,b.isDesktop,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i})},{handleify:6}],74:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<div class='device-orientation'>\n	<img src='assets/images/landscape-message.png' />\n</div>"})},{handleify:6}],75:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../../supers/View.coffee"),e=a("./tests-template.hbs"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.id="container-development",b.prototype.template=e,b}(d),b.exports=c},{"../../supers/View.coffee":31,"./tests-template.hbs":76}],76:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="";return f+='<h1>MPC Component Viewer</h1>\n\n<br />\n<p>\n	<a href="source/test/html">MPC Ahh Mocha Unit Tests</a>\n</p>\n\n<br />\n<ul>\n	<li><b>Pages</b></li>\n	<li><a href=\'#landing\'>Landing</a></li>\n	<li><a href=\'#create\'>Create</a></li>\n	\n	<li></li>\n	<li><b>Individual components</b></li>\n	<li><a href=\'#kit-selection\'>Kit Selection</a></li>\n	<li><a href="#bpm-indicator">BPM Indicator</a></li>\n	<li><a href="#instrument-selector">Instrument Selector</a></li>\n	<li><a href="#sequencer">Sequencer</a></li>\n	<li><a href="#full-sequencer">Full Sequencer</a></li>\n	<li><a href="#live-pad">LivePad</a></li>\n	<li><a href="#share-modal">Share Modal</a></li>\n\n	<li></li>\n	<li><b>Mobile</b></li>\n	<li><a href="#mobile-mpc">Mobile MPC</a></li>\n</ul>\n\n<div class=\'icon-beat-hard\'></div>'})},{handleify:6}],77:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../../utils/PubSub"),c=a("../../events/PubEvent.coffee"),e=a("../../supers/View.coffee"),g=a("./templates/visualizer-template.hbs"),f=function(a){function b(){return this.onBeat=h(this.onBeat,this),this.onResize=h(this.onResize,this),this.buildBottles=h(this.buildBottles,this),this.show=h(this.show,this),b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.BOTTLE_NUM=6,b.prototype.className="container-visualizer",b.prototype.template=g,b.prototype.render=function(a){return b.__super__.render.call(this,a),this.$bottlesContainer=this.$el.find(".container-bottles"),this.show(),this},b.prototype.addEventListeners=function(){return window.addEventListener("resize",this.onResize,!1),d.on(c.BEAT,this.onBeat)},b.prototype.removeEventListeners=function(){return d.off(c.BEAT,this.onBeat),b.__super__.removeEventListeners.call(this)},b.prototype.show=function(){return this.buildBottles(),TweenMax.to(this.$el.find(".wrapper"),.3,{autoAlpha:1,delay:1})},b.prototype.hide=function(){return TweenMax.to(this.$el.find(".wrapper"),.3,{autoAlpha:0,delay:0})},b.prototype.scaleUp=function(){return this.prevX=GreenProp.x(this.$bottlesContainer),this.prevY=GreenProp.y(this.$bottlesContainer),TweenMax.to(this.$bottlesContainer,.8,{scale:1.3,x:.26*this.containerWidth,y:this.prevY+65,ease:Expo.easeOut,roundProps:["scale","x","y"]})},b.prototype.scaleDown=function(){return TweenMax.to(this.$bottlesContainer,.8,{scaleX:1,scaleY:1,x:this.prevX,y:this.prevY,ease:Expo.easeInOut})},b.prototype.setShareViewPosition=function(){this.isShareView=!0,console.log("here!"),this.onResize()},b.prototype.resetPosition=function(){return this.isShareView=!1,this.onResize()},b.prototype.buildBottles=function(){return this.bottles=[],this.widths=[],_(this.BOTTLE_NUM).times(function(a){return function(b){var c;return c=a.$el.find("#bottle-"+(b+1)),TweenMax.set(c,{transformOrigin:"center middle",scale:1,x:~~(b*(.8*window.innerWidth/a.BOTTLE_NUM)),y:1e3}),TweenMax.set(c.find(".bottle-bg"),{scaleY:0}),a.bottles.push(c)}}(this)),TweenMax.staggerTo(this.bottles,.7,{y:-10,ease:Back.easeOut,delay:.5},.1)},b.prototype.onResize=function(){var a,b,c,d;return a=this.bottles.length,this.widths=[],_.each(this.bottles,function(a){return function(b,c){var d;return d=~~(c*(.8*window.innerWidth/a.BOTTLE_NUM)),TweenMax.set(b,{transformOrigin:"center",x:d,ease:Expo.easeOut}),a.widths.push(GreenProp.x(b)+b.width())}}(this)),this.containerWidth=this.widths[this.widths.length-1],this.containerHeight=~~this.$bottlesContainer.height(),c=this.isShareView?0:100,b=.5*window.innerWidth-.5*this.containerWidth,d=.5*window.innerHeight-.5*this.containerHeight-c,TweenMax.to(this.$bottlesContainer,.6,{x:~~b,y:~~d,ease:Expo.easeOut})},b.prototype.onBeat=function(a){var b,c,d,e;return d=a.patternSquareModel,c=function(){switch(d.velocity){case 1:return.33+.2*Math.random();case 2:return.66+.2*Math.random();case 3:return.95}}(),e=.2,b=this.bottles[d.orderIndex].find(".bottle-bg"),TweenMax.to(b,.1,{transformOrigin:"center bottom",scaleY:c,ease:Linear.easeNone,onComplete:function(){return function(){return TweenMax.to(b,1,{scaleY:0,ease:Quart.easeOut})}}(this)})},b}(e),b.exports=f},{"../../events/PubEvent.coffee":14,"../../supers/View.coffee":31,"../../utils/PubSub":33,"./templates/visualizer-template.hbs":78}],78:[function(a,b){b.exports=a("handleify").template(function(a,b,c,d,e){function f(a,b){var c,d="";return d+="\n\n			<div class='vis-bottle' id='bottle-"+l((c=b,c=null==c||c===!1?c:c.index,typeof c===k?c.apply(a):c))+"'>\n				<div class='bottle-bg-white' />\n				<div class='bottle-bg' />\n				<div class='bottle-mask' />\n			</div>\n\n		"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.helperMissing;return j+="<div class='wrapper'>\n	<div class='container-bottles'>\n\n		",i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},g=c.repeat||b.repeat,h=g?g.call(b,6,i):n.call(b,"repeat",6,i),(h||0===h)&&(j+=h),j+="\n\n	</div>\n</div>"})},{handleify:6}]},{},[16]);